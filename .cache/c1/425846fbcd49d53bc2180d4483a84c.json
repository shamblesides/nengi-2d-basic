{"id":"KNjQ","dependencies":[{"name":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\resource-loader\\lib\\Loader.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\benne\\np\\nengi-2d-basic\\package.json","includedInParent":true,"mtime":1557038832290},{"name":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\resource-loader\\package.json","includedInParent":true,"mtime":1557035510541},{"name":"mini-signals","loc":{"line":10,"column":27},"parent":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\resource-loader\\lib\\Loader.js","resolved":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\mini-signals\\lib\\mini-signals.js"},{"name":"parse-uri","loc":{"line":14,"column":24},"parent":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\resource-loader\\lib\\Loader.js","resolved":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\parse-uri\\index.js"},{"name":"./async","loc":{"line":18,"column":21},"parent":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\resource-loader\\lib\\Loader.js","resolved":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\resource-loader\\lib\\async.js"},{"name":"./Resource","loc":{"line":22,"column":24},"parent":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\resource-loader\\lib\\Loader.js","resolved":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\resource-loader\\lib\\Resource.js"}],"generated":{"js":"\"use strict\";exports.__esModule=!0,exports.Loader=void 0;var e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},r=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),t=require(\"mini-signals\"),o=h(t),s=require(\"parse-uri\"),n=h(s),i=require(\"./async\"),u=l(i),a=require(\"./Resource\");function l(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function h(e){return e&&e.__esModule?e:{default:e}}function d(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}var f=100,c=/(#[\\w-]+)?$/,p=exports.Loader=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;d(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString=\"\",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(r,t){return e._loadResource(r,t)},this._queue=u.queue(this._boundLoadResource,s),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default;for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var i=0;i<t._defaultAfterMiddleware.length;++i)this.use(t._defaultAfterMiddleware[i])}return t.prototype.add=function(r,t,o,s){if(Array.isArray(r)){for(var n=0;n<r.length;++n)this.add(r[n]);return this}if(\"object\"===(void 0===r?\"undefined\":e(r))&&(s=t||r.callback||r.onComplete,o=r,t=r.url,r=r.name||r.key||r.url),\"string\"!=typeof t&&(s=o,o=t,t=r),\"string\"!=typeof t)throw new Error(\"No url passed to add resource to loader.\");if(\"function\"==typeof o&&(s=o,o=null),this.loading&&(!o||!o.parentResource))throw new Error(\"Cannot add resources while the loader is running.\");if(this.resources[r])throw new Error('Resource named \"'+r+'\" already exists.');if(t=this._prepareUrl(t),this.resources[r]=new a.Resource(r,t,o),\"function\"==typeof s&&this.resources[r].onAfterMiddleware.once(s),this.loading){for(var i=o.parentResource,u=[],l=0;l<i.children.length;++l)i.children[l].isComplete||u.push(i.children[l]);var h=i.progressChunk*(u.length+1)/(u.length+2);i.children.push(this.resources[r]),i.progressChunk=h;for(var d=0;d<u.length;++d)u[d].progressChunk=h;this.resources[r].progressChunk=h}return this._queue.push(this.resources[r]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort()}return this.resources={},this},t.prototype.load=function(e){if(\"function\"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,t=f/r,o=0;o<this._queue._tasks.length;++o)this._queue._tasks[o].data.progressChunk=t;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(e){var r=(0,n.default)(e,{strictMode:!0}),t=void 0;if(t=r.protocol||!r.path||0===e.indexOf(\"//\")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf(\"/\")!==this.baseUrl.length-1&&\"/\"!==e.charAt(0)?this.baseUrl+\"/\"+e:this.baseUrl+e,this.defaultQueryString){var o=c.exec(t)[0];-1!==(t=t.substr(0,t.length-o.length)).indexOf(\"?\")?t+=\"&\"+this.defaultQueryString:t+=\"?\"+this.defaultQueryString,t+=o}return t},t.prototype._loadResource=function(e,r){var t=this;e._dequeue=r,u.eachSeries(this._beforeMiddleware,function(r,o){r.call(t,e,function(){o(e.isComplete?{}:null)})},function(){e.isComplete?t._onLoad(e):(e._onLoadBinding=e.onComplete.once(t._onLoad,t),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=f,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),u.eachSeries(this._afterMiddleware,function(t,o){t.call(r,e,o)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(f,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&0===r._resourcesParsing.length&&r._onComplete()},!0)},r(t,[{key:\"concurrency\",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),t}();p._defaultBeforeMiddleware=[],p._defaultAfterMiddleware=[],p.pre=function(e){return p._defaultBeforeMiddleware.push(e),p},p.use=function(e){return p._defaultAfterMiddleware.push(e),p};"},"sourceMaps":{"js":{"mappings":[{"source":"../src/Loader.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":510}},{"source":"../src/Loader.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":512}},{"source":"../src/Loader.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":520}},{"source":"../src/Loader.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":543}},{"source":"../src/Loader.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":545}},{"source":"../src/Loader.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":553}},{"source":"../src/Loader.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":573}},{"source":"../src/Loader.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":575}},{"source":"../src/Loader.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":583}},{"source":"../src/Loader.js","name":"async","original":{"line":3,"column":12},"generated":{"line":1,"column":594}},{"source":"../src/Loader.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":601}},{"source":"../src/Loader.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":603}},{"source":"../src/Loader.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":611}},{"source":"../src/Loader.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":923}},{"source":"../src/Loader.js","name":"MAX_PROGRESS","original":{"line":7,"column":6},"generated":{"line":1,"column":927}},{"source":"../src/Loader.js","name":null,"original":{"line":7,"column":21},"generated":{"line":1,"column":929}},{"source":"../src/Loader.js","name":"rgxExtractUrlHash","original":{"line":8,"column":6},"generated":{"line":1,"column":933}},{"source":"../src/Loader.js","name":null,"original":{"line":8,"column":26},"generated":{"line":1,"column":935}},{"source":"../src/Loader.js","name":"Loader","original":{"line":15,"column":13},"generated":{"line":1,"column":949}},{"source":"../src/Loader.js","name":"Loader","original":{"line":15,"column":13},"generated":{"line":1,"column":959}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":4},"generated":{"line":1,"column":977}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":4},"generated":{"line":1,"column":986}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":990}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":994}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":996}},{"source":"../src/Loader.js","name":"baseUrl","original":{"line":20,"column":16},"generated":{"line":1,"column":1001}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1003}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1013}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1020}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1028}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1032}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1042}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1045}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1055}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":26},"generated":{"line":1,"column":1058}},{"source":"../src/Loader.js","name":"concurrency","original":{"line":20,"column":30},"generated":{"line":1,"column":1061}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1063}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1073}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1080}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1088}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1092}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1102}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1105}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1115}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":44},"generated":{"line":1,"column":1118}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1121}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1123}},{"source":"../src/Loader.js","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":1128}},{"source":"../src/Loader.js","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":1131}},{"source":"../src/Loader.js","name":"baseUrl","original":{"line":26,"column":13},"generated":{"line":1,"column":1136}},{"source":"../src/Loader.js","name":"baseUrl","original":{"line":26,"column":23},"generated":{"line":1,"column":1144}},{"source":"../src/Loader.js","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":1146}},{"source":"../src/Loader.js","name":"progress","original":{"line":33,"column":13},"generated":{"line":1,"column":1151}},{"source":"../src/Loader.js","name":null,"original":{"line":33,"column":24},"generated":{"line":1,"column":1160}},{"source":"../src/Loader.js","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":1162}},{"source":"../src/Loader.js","name":"loading","original":{"line":40,"column":13},"generated":{"line":1,"column":1167}},{"source":"../src/Loader.js","name":null,"original":{"line":40,"column":23},"generated":{"line":1,"column":1176}},{"source":"../src/Loader.js","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":1178}},{"source":"../src/Loader.js","name":"defaultQueryString","original":{"line":64,"column":13},"generated":{"line":1,"column":1183}},{"source":"../src/Loader.js","name":null,"original":{"line":64,"column":34},"generated":{"line":1,"column":1202}},{"source":"../src/Loader.js","name":null,"original":{"line":72,"column":8},"generated":{"line":1,"column":1205}},{"source":"../src/Loader.js","name":"_beforeMiddleware","original":{"line":72,"column":13},"generated":{"line":1,"column":1210}},{"source":"../src/Loader.js","name":null,"original":{"line":72,"column":33},"generated":{"line":1,"column":1228}},{"source":"../src/Loader.js","name":null,"original":{"line":80,"column":8},"generated":{"line":1,"column":1231}},{"source":"../src/Loader.js","name":"_afterMiddleware","original":{"line":80,"column":13},"generated":{"line":1,"column":1236}},{"source":"../src/Loader.js","name":null,"original":{"line":80,"column":32},"generated":{"line":1,"column":1253}},{"source":"../src/Loader.js","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":1256}},{"source":"../src/Loader.js","name":"_resourcesParsing","original":{"line":88,"column":13},"generated":{"line":1,"column":1261}},{"source":"../src/Loader.js","name":null,"original":{"line":88,"column":33},"generated":{"line":1,"column":1279}},{"source":"../src/Loader.js","name":null,"original":{"line":99,"column":8},"generated":{"line":1,"column":1282}},{"source":"../src/Loader.js","name":"_boundLoadResource","original":{"line":99,"column":13},"generated":{"line":1,"column":1287}},{"source":"../src/Loader.js","name":null,"original":{"line":99,"column":34},"generated":{"line":1,"column":1306}},{"source":"../src/Loader.js","name":"r","original":{"line":99,"column":35},"generated":{"line":1,"column":1315}},{"source":"../src/Loader.js","name":"d","original":{"line":99,"column":38},"generated":{"line":1,"column":1317}},{"source":"../src/Loader.js","name":null,"original":{"line":99,"column":34},"generated":{"line":1,"column":1320}},{"source":"../src/Loader.js","name":null,"original":{"line":99,"column":44},"generated":{"line":1,"column":1327}},{"source":"../src/Loader.js","name":"_loadResource","original":{"line":99,"column":49},"generated":{"line":1,"column":1329}},{"source":"../src/Loader.js","name":"r","original":{"line":99,"column":63},"generated":{"line":1,"column":1343}},{"source":"../src/Loader.js","name":"d","original":{"line":99,"column":66},"generated":{"line":1,"column":1345}},{"source":"../src/Loader.js","name":null,"original":{"line":107,"column":8},"generated":{"line":1,"column":1349}},{"source":"../src/Loader.js","name":"_queue","original":{"line":107,"column":13},"generated":{"line":1,"column":1354}},{"source":"../src/Loader.js","name":"async","original":{"line":107,"column":22},"generated":{"line":1,"column":1361}},{"source":"../src/Loader.js","name":"queue","original":{"line":107,"column":28},"generated":{"line":1,"column":1363}},{"source":"../src/Loader.js","name":null,"original":{"line":107,"column":34},"generated":{"line":1,"column":1369}},{"source":"../src/Loader.js","name":"_boundLoadResource","original":{"line":107,"column":39},"generated":{"line":1,"column":1374}},{"source":"../src/Loader.js","name":"concurrency","original":{"line":107,"column":59},"generated":{"line":1,"column":1393}},{"source":"../src/Loader.js","name":null,"original":{"line":109,"column":8},"generated":{"line":1,"column":1396}},{"source":"../src/Loader.js","name":"_queue","original":{"line":109,"column":13},"generated":{"line":1,"column":1401}},{"source":"../src/Loader.js","name":"pause","original":{"line":109,"column":20},"generated":{"line":1,"column":1408}},{"source":"../src/Loader.js","name":null,"original":{"line":116,"column":8},"generated":{"line":1,"column":1416}},{"source":"../src/Loader.js","name":"resources","original":{"line":116,"column":13},"generated":{"line":1,"column":1421}},{"source":"../src/Loader.js","name":null,"original":{"line":116,"column":25},"generated":{"line":1,"column":1431}},{"source":"../src/Loader.js","name":null,"original":{"line":125,"column":8},"generated":{"line":1,"column":1434}},{"source":"../src/Loader.js","name":"onProgress","original":{"line":125,"column":13},"generated":{"line":1,"column":1439}},{"source":"../src/Loader.js","name":null,"original":{"line":125,"column":26},"generated":{"line":1,"column":1450}},{"source":"../src/Loader.js","name":"Signal","original":{"line":125,"column":30},"generated":{"line":1,"column":1454}},{"source":"../src/Loader.js","name":"Signal","original":{"line":125,"column":30},"generated":{"line":1,"column":1456}},{"source":"../src/Loader.js","name":null,"original":{"line":134,"column":8},"generated":{"line":1,"column":1464}},{"source":"../src/Loader.js","name":"onError","original":{"line":134,"column":13},"generated":{"line":1,"column":1469}},{"source":"../src/Loader.js","name":null,"original":{"line":134,"column":23},"generated":{"line":1,"column":1477}},{"source":"../src/Loader.js","name":"Signal","original":{"line":134,"column":27},"generated":{"line":1,"column":1481}},{"source":"../src/Loader.js","name":"Signal","original":{"line":134,"column":27},"generated":{"line":1,"column":1483}},{"source":"../src/Loader.js","name":null,"original":{"line":143,"column":8},"generated":{"line":1,"column":1491}},{"source":"../src/Loader.js","name":"onLoad","original":{"line":143,"column":13},"generated":{"line":1,"column":1496}},{"source":"../src/Loader.js","name":null,"original":{"line":143,"column":22},"generated":{"line":1,"column":1503}},{"source":"../src/Loader.js","name":"Signal","original":{"line":143,"column":26},"generated":{"line":1,"column":1507}},{"source":"../src/Loader.js","name":"Signal","original":{"line":143,"column":26},"generated":{"line":1,"column":1509}},{"source":"../src/Loader.js","name":null,"original":{"line":152,"column":8},"generated":{"line":1,"column":1517}},{"source":"../src/Loader.js","name":"onStart","original":{"line":152,"column":13},"generated":{"line":1,"column":1522}},{"source":"../src/Loader.js","name":null,"original":{"line":152,"column":23},"generated":{"line":1,"column":1530}},{"source":"../src/Loader.js","name":"Signal","original":{"line":152,"column":27},"generated":{"line":1,"column":1534}},{"source":"../src/Loader.js","name":"Signal","original":{"line":152,"column":27},"generated":{"line":1,"column":1536}},{"source":"../src/Loader.js","name":null,"original":{"line":161,"column":8},"generated":{"line":1,"column":1544}},{"source":"../src/Loader.js","name":"onComplete","original":{"line":161,"column":13},"generated":{"line":1,"column":1549}},{"source":"../src/Loader.js","name":null,"original":{"line":161,"column":26},"generated":{"line":1,"column":1560}},{"source":"../src/Loader.js","name":"Signal","original":{"line":161,"column":30},"generated":{"line":1,"column":1564}},{"source":"../src/Loader.js","name":"Signal","original":{"line":161,"column":30},"generated":{"line":1,"column":1566}},{"source":"../src/Loader.js","name":null,"original":{"line":164,"column":8},"generated":{"line":1,"column":1574}},{"source":"../src/Loader.js","name":null,"original":{"line":164,"column":13},"generated":{"line":1,"column":1578}},{"source":"../src/Loader.js","name":"i","original":{"line":164,"column":17},"generated":{"line":1,"column":1582}},{"source":"../src/Loader.js","name":null,"original":{"line":164,"column":21},"generated":{"line":1,"column":1584}},{"source":"../src/Loader.js","name":"i","original":{"line":164,"column":24},"generated":{"line":1,"column":1586}},{"source":"../src/Loader.js","name":"Loader","original":{"line":164,"column":28},"generated":{"line":1,"column":1588}},{"source":"../src/Loader.js","name":"_defaultBeforeMiddleware","original":{"line":164,"column":35},"generated":{"line":1,"column":1590}},{"source":"../src/Loader.js","name":"length","original":{"line":164,"column":60},"generated":{"line":1,"column":1615}},{"source":"../src/Loader.js","name":"i","original":{"line":164,"column":70},"generated":{"line":1,"column":1624}},{"source":"../src/Loader.js","name":null,"original":{"line":165,"column":12},"generated":{"line":1,"column":1626}},{"source":"../src/Loader.js","name":"pre","original":{"line":165,"column":17},"generated":{"line":1,"column":1631}},{"source":"../src/Loader.js","name":"Loader","original":{"line":165,"column":21},"generated":{"line":1,"column":1635}},{"source":"../src/Loader.js","name":"_defaultBeforeMiddleware","original":{"line":165,"column":28},"generated":{"line":1,"column":1637}},{"source":"../src/Loader.js","name":"i","original":{"line":165,"column":53},"generated":{"line":1,"column":1662}},{"source":"../src/Loader.js","name":null,"original":{"line":169,"column":8},"generated":{"line":1,"column":1666}},{"source":"../src/Loader.js","name":null,"original":{"line":169,"column":13},"generated":{"line":1,"column":1670}},{"source":"../src/Loader.js","name":"i","original":{"line":169,"column":17},"generated":{"line":1,"column":1674}},{"source":"../src/Loader.js","name":null,"original":{"line":169,"column":21},"generated":{"line":1,"column":1676}},{"source":"../src/Loader.js","name":"i","original":{"line":169,"column":24},"generated":{"line":1,"column":1678}},{"source":"../src/Loader.js","name":"Loader","original":{"line":169,"column":28},"generated":{"line":1,"column":1680}},{"source":"../src/Loader.js","name":"_defaultAfterMiddleware","original":{"line":169,"column":35},"generated":{"line":1,"column":1682}},{"source":"../src/Loader.js","name":"length","original":{"line":169,"column":59},"generated":{"line":1,"column":1706}},{"source":"../src/Loader.js","name":"i","original":{"line":169,"column":69},"generated":{"line":1,"column":1715}},{"source":"../src/Loader.js","name":null,"original":{"line":170,"column":12},"generated":{"line":1,"column":1717}},{"source":"../src/Loader.js","name":"use","original":{"line":170,"column":17},"generated":{"line":1,"column":1722}},{"source":"../src/Loader.js","name":"Loader","original":{"line":170,"column":21},"generated":{"line":1,"column":1726}},{"source":"../src/Loader.js","name":"_defaultAfterMiddleware","original":{"line":170,"column":28},"generated":{"line":1,"column":1728}},{"source":"../src/Loader.js","name":"i","original":{"line":170,"column":52},"generated":{"line":1,"column":1752}},{"source":"../src/Loader.js","name":"add","original":{"line":326,"column":4},"generated":{"line":1,"column":1775}},{"source":"../src/Loader.js","name":"name","original":{"line":326,"column":8},"generated":{"line":1,"column":1788}},{"source":"../src/Loader.js","name":"url","original":{"line":326,"column":14},"generated":{"line":1,"column":1790}},{"source":"../src/Loader.js","name":"options","original":{"line":326,"column":19},"generated":{"line":1,"column":1792}},{"source":"../src/Loader.js","name":"cb","original":{"line":326,"column":28},"generated":{"line":1,"column":1794}},{"source":"../src/Loader.js","name":null,"original":{"line":328,"column":8},"generated":{"line":1,"column":1797}},{"source":"../src/Loader.js","name":"Array","original":{"line":328,"column":12},"generated":{"line":1,"column":1800}},{"source":"../src/Loader.js","name":"isArray","original":{"line":328,"column":18},"generated":{"line":1,"column":1806}},{"source":"../src/Loader.js","name":"name","original":{"line":328,"column":26},"generated":{"line":1,"column":1814}},{"source":"../src/Loader.js","name":null,"original":{"line":328,"column":33},"generated":{"line":1,"column":1817}},{"source":"../src/Loader.js","name":null,"original":{"line":329,"column":12},"generated":{"line":1,"column":1818}},{"source":"../src/Loader.js","name":null,"original":{"line":329,"column":17},"generated":{"line":1,"column":1822}},{"source":"../src/Loader.js","name":"i","original":{"line":329,"column":21},"generated":{"line":1,"column":1826}},{"source":"../src/Loader.js","name":null,"original":{"line":329,"column":25},"generated":{"line":1,"column":1828}},{"source":"../src/Loader.js","name":"i","original":{"line":329,"column":28},"generated":{"line":1,"column":1830}},{"source":"../src/Loader.js","name":"name","original":{"line":329,"column":32},"generated":{"line":1,"column":1832}},{"source":"../src/Loader.js","name":"length","original":{"line":329,"column":37},"generated":{"line":1,"column":1834}},{"source":"../src/Loader.js","name":"i","original":{"line":329,"column":47},"generated":{"line":1,"column":1843}},{"source":"../src/Loader.js","name":null,"original":{"line":330,"column":16},"generated":{"line":1,"column":1845}},{"source":"../src/Loader.js","name":"add","original":{"line":330,"column":21},"generated":{"line":1,"column":1850}},{"source":"../src/Loader.js","name":"name","original":{"line":330,"column":25},"generated":{"line":1,"column":1854}},{"source":"../src/Loader.js","name":"i","original":{"line":330,"column":30},"generated":{"line":1,"column":1856}},{"source":"../src/Loader.js","name":null,"original":{"line":333,"column":12},"generated":{"line":1,"column":1860}},{"source":"../src/Loader.js","name":null,"original":{"line":333,"column":19},"generated":{"line":1,"column":1867}},{"source":"../src/Loader.js","name":null,"original":{"line":352,"column":8},"generated":{"line":1,"column":1872}},{"source":"../src/Loader.js","name":null,"original":{"line":337,"column":28},"generated":{"line":1,"column":1875}},{"source":"../src/Loader.js","name":null,"original":{"line":337,"column":12},"generated":{"line":1,"column":1892}},{"source":"../src/Loader.js","name":"name","original":{"line":337,"column":19},"generated":{"line":1,"column":1896}},{"source":"../src/Loader.js","name":null,"original":{"line":337,"column":12},"generated":{"line":1,"column":1898}},{"source":"../src/Loader.js","name":null,"original":{"line":337,"column":12},"generated":{"line":1,"column":1910}},{"source":"../src/Loader.js","name":"name","original":{"line":337,"column":19},"generated":{"line":1,"column":1912}},{"source":"../src/Loader.js","name":"cb","original":{"line":338,"column":12},"generated":{"line":1,"column":1918}},{"source":"../src/Loader.js","name":"url","original":{"line":338,"column":17},"generated":{"line":1,"column":1920}},{"source":"../src/Loader.js","name":"name","original":{"line":338,"column":24},"generated":{"line":1,"column":1923}},{"source":"../src/Loader.js","name":"callback","original":{"line":338,"column":29},"generated":{"line":1,"column":1925}},{"source":"../src/Loader.js","name":"name","original":{"line":338,"column":41},"generated":{"line":1,"column":1935}},{"source":"../src/Loader.js","name":"onComplete","original":{"line":338,"column":46},"generated":{"line":1,"column":1937}},{"source":"../src/Loader.js","name":"options","original":{"line":339,"column":12},"generated":{"line":1,"column":1948}},{"source":"../src/Loader.js","name":"name","original":{"line":339,"column":22},"generated":{"line":1,"column":1950}},{"source":"../src/Loader.js","name":"url","original":{"line":340,"column":12},"generated":{"line":1,"column":1952}},{"source":"../src/Loader.js","name":"name","original":{"line":340,"column":18},"generated":{"line":1,"column":1954}},{"source":"../src/Loader.js","name":"url","original":{"line":340,"column":23},"generated":{"line":1,"column":1956}},{"source":"../src/Loader.js","name":"name","original":{"line":341,"column":12},"generated":{"line":1,"column":1960}},{"source":"../src/Loader.js","name":"name","original":{"line":341,"column":19},"generated":{"line":1,"column":1962}},{"source":"../src/Loader.js","name":"name","original":{"line":341,"column":24},"generated":{"line":1,"column":1964}},{"source":"../src/Loader.js","name":"name","original":{"line":341,"column":32},"generated":{"line":1,"column":1970}},{"source":"../src/Loader.js","name":"key","original":{"line":341,"column":37},"generated":{"line":1,"column":1972}},{"source":"../src/Loader.js","name":"name","original":{"line":341,"column":44},"generated":{"line":1,"column":1977}},{"source":"../src/Loader.js","name":"url","original":{"line":341,"column":49},"generated":{"line":1,"column":1979}},{"source":"../src/Loader.js","name":null,"original":{"line":345,"column":27},"generated":{"line":1,"column":1984}},{"source":"../src/Loader.js","name":"url","original":{"line":345,"column":19},"generated":{"line":1,"column":2001}},{"source":"../src/Loader.js","name":"cb","original":{"line":346,"column":12},"generated":{"line":1,"column":2005}},{"source":"../src/Loader.js","name":"options","original":{"line":346,"column":17},"generated":{"line":1,"column":2007}},{"source":"../src/Loader.js","name":"options","original":{"line":347,"column":12},"generated":{"line":1,"column":2009}},{"source":"../src/Loader.js","name":"url","original":{"line":347,"column":22},"generated":{"line":1,"column":2011}},{"source":"../src/Loader.js","name":"url","original":{"line":348,"column":12},"generated":{"line":1,"column":2013}},{"source":"../src/Loader.js","name":"name","original":{"line":348,"column":18},"generated":{"line":1,"column":2015}},{"source":"../src/Loader.js","name":null,"original":{"line":352,"column":27},"generated":{"line":1,"column":2018}},{"source":"../src/Loader.js","name":"url","original":{"line":352,"column":19},"generated":{"line":1,"column":2035}},{"source":"../src/Loader.js","name":null,"original":{"line":353,"column":12},"generated":{"line":1,"column":2037}},{"source":"../src/Loader.js","name":null,"original":{"line":353,"column":18},"generated":{"line":1,"column":2043}},{"source":"../src/Loader.js","name":"Error","original":{"line":353,"column":22},"generated":{"line":1,"column":2047}},{"source":"../src/Loader.js","name":null,"original":{"line":353,"column":28},"generated":{"line":1,"column":2053}},{"source":"../src/Loader.js","name":null,"original":{"line":363,"column":8},"generated":{"line":1,"column":2097}},{"source":"../src/Loader.js","name":null,"original":{"line":357,"column":31},"generated":{"line":1,"column":2100}},{"source":"../src/Loader.js","name":"options","original":{"line":357,"column":19},"generated":{"line":1,"column":2119}},{"source":"../src/Loader.js","name":"cb","original":{"line":358,"column":12},"generated":{"line":1,"column":2123}},{"source":"../src/Loader.js","name":"options","original":{"line":358,"column":17},"generated":{"line":1,"column":2125}},{"source":"../src/Loader.js","name":"options","original":{"line":359,"column":12},"generated":{"line":1,"column":2127}},{"source":"../src/Loader.js","name":null,"original":{"line":359,"column":22},"generated":{"line":1,"column":2129}},{"source":"../src/Loader.js","name":null,"original":{"line":363,"column":12},"generated":{"line":1,"column":2135}},{"source":"../src/Loader.js","name":"loading","original":{"line":363,"column":17},"generated":{"line":1,"column":2140}},{"source":"../src/Loader.js","name":"options","original":{"line":363,"column":30},"generated":{"line":1,"column":2151}},{"source":"../src/Loader.js","name":"options","original":{"line":363,"column":42},"generated":{"line":1,"column":2155}},{"source":"../src/Loader.js","name":"parentResource","original":{"line":363,"column":50},"generated":{"line":1,"column":2157}},{"source":"../src/Loader.js","name":null,"original":{"line":364,"column":12},"generated":{"line":1,"column":2173}},{"source":"../src/Loader.js","name":null,"original":{"line":364,"column":18},"generated":{"line":1,"column":2179}},{"source":"../src/Loader.js","name":"Error","original":{"line":364,"column":22},"generated":{"line":1,"column":2183}},{"source":"../src/Loader.js","name":null,"original":{"line":364,"column":28},"generated":{"line":1,"column":2189}},{"source":"../src/Loader.js","name":null,"original":{"line":368,"column":8},"generated":{"line":1,"column":2242}},{"source":"../src/Loader.js","name":null,"original":{"line":368,"column":12},"generated":{"line":1,"column":2245}},{"source":"../src/Loader.js","name":"resources","original":{"line":368,"column":17},"generated":{"line":1,"column":2250}},{"source":"../src/Loader.js","name":"name","original":{"line":368,"column":27},"generated":{"line":1,"column":2260}},{"source":"../src/Loader.js","name":null,"original":{"line":369,"column":12},"generated":{"line":1,"column":2263}},{"source":"../src/Loader.js","name":null,"original":{"line":369,"column":18},"generated":{"line":1,"column":2269}},{"source":"../src/Loader.js","name":"Error","original":{"line":369,"column":22},"generated":{"line":1,"column":2273}},{"source":"../src/Loader.js","name":null,"original":{"line":369,"column":18},"generated":{"line":1,"column":2279}},{"source":"../src/Loader.js","name":"name","original":{"line":369,"column":47},"generated":{"line":1,"column":2298}},{"source":"../src/Loader.js","name":null,"original":{"line":369,"column":18},"generated":{"line":1,"column":2300}},{"source":"../src/Loader.js","name":null,"original":{"line":383,"column":8},"generated":{"line":1,"column":2321}},{"source":"../src/Loader.js","name":"url","original":{"line":373,"column":8},"generated":{"line":1,"column":2324}},{"source":"../src/Loader.js","name":null,"original":{"line":373,"column":14},"generated":{"line":1,"column":2326}},{"source":"../src/Loader.js","name":"_prepareUrl","original":{"line":373,"column":19},"generated":{"line":1,"column":2331}},{"source":"../src/Loader.js","name":"url","original":{"line":373,"column":31},"generated":{"line":1,"column":2343}},{"source":"../src/Loader.js","name":null,"original":{"line":376,"column":8},"generated":{"line":1,"column":2346}},{"source":"../src/Loader.js","name":"resources","original":{"line":376,"column":13},"generated":{"line":1,"column":2351}},{"source":"../src/Loader.js","name":"name","original":{"line":376,"column":23},"generated":{"line":1,"column":2361}},{"source":"../src/Loader.js","name":null,"original":{"line":376,"column":31},"generated":{"line":1,"column":2364}},{"source":"../src/Loader.js","name":"Resource","original":{"line":376,"column":35},"generated":{"line":1,"column":2368}},{"source":"../src/Loader.js","name":"Resource","original":{"line":376,"column":35},"generated":{"line":1,"column":2370}},{"source":"../src/Loader.js","name":"name","original":{"line":376,"column":44},"generated":{"line":1,"column":2379}},{"source":"../src/Loader.js","name":"url","original":{"line":376,"column":50},"generated":{"line":1,"column":2381}},{"source":"../src/Loader.js","name":"options","original":{"line":376,"column":55},"generated":{"line":1,"column":2383}},{"source":"../src/Loader.js","name":null,"original":{"line":378,"column":26},"generated":{"line":1,"column":2386}},{"source":"../src/Loader.js","name":"cb","original":{"line":378,"column":19},"generated":{"line":1,"column":2405}},{"source":"../src/Loader.js","name":null,"original":{"line":379,"column":12},"generated":{"line":1,"column":2408}},{"source":"../src/Loader.js","name":"resources","original":{"line":379,"column":17},"generated":{"line":1,"column":2413}},{"source":"../src/Loader.js","name":"name","original":{"line":379,"column":27},"generated":{"line":1,"column":2423}},{"source":"../src/Loader.js","name":"onAfterMiddleware","original":{"line":379,"column":33},"generated":{"line":1,"column":2426}},{"source":"../src/Loader.js","name":"once","original":{"line":379,"column":51},"generated":{"line":1,"column":2444}},{"source":"../src/Loader.js","name":"cb","original":{"line":379,"column":56},"generated":{"line":1,"column":2449}},{"source":"../src/Loader.js","name":null,"original":{"line":383,"column":12},"generated":{"line":1,"column":2452}},{"source":"../src/Loader.js","name":"loading","original":{"line":383,"column":17},"generated":{"line":1,"column":2457}},{"source":"../src/Loader.js","name":null,"original":{"line":383,"column":26},"generated":{"line":1,"column":2465}},{"source":"../src/Loader.js","name":null,"original":{"line":387,"column":12},"generated":{"line":1,"column":2466}},{"source":"../src/Loader.js","name":null,"original":{"line":384,"column":12},"generated":{"line":1,"column":2470}},{"source":"../src/Loader.js","name":"parent","original":{"line":384,"column":18},"generated":{"line":1,"column":2474}},{"source":"../src/Loader.js","name":"options","original":{"line":384,"column":27},"generated":{"line":1,"column":2476}},{"source":"../src/Loader.js","name":"parentResource","original":{"line":384,"column":35},"generated":{"line":1,"column":2478}},{"source":"../src/Loader.js","name":"incompleteChildren","original":{"line":385,"column":18},"generated":{"line":1,"column":2493}},{"source":"../src/Loader.js","name":null,"original":{"line":385,"column":39},"generated":{"line":1,"column":2495}},{"source":"../src/Loader.js","name":"i","original":{"line":387,"column":21},"generated":{"line":1,"column":2498}},{"source":"../src/Loader.js","name":null,"original":{"line":387,"column":25},"generated":{"line":1,"column":2500}},{"source":"../src/Loader.js","name":"i","original":{"line":387,"column":28},"generated":{"line":1,"column":2502}},{"source":"../src/Loader.js","name":"parent","original":{"line":387,"column":32},"generated":{"line":1,"column":2504}},{"source":"../src/Loader.js","name":"children","original":{"line":387,"column":39},"generated":{"line":1,"column":2506}},{"source":"../src/Loader.js","name":"length","original":{"line":387,"column":48},"generated":{"line":1,"column":2515}},{"source":"../src/Loader.js","name":"i","original":{"line":387,"column":58},"generated":{"line":1,"column":2524}},{"source":"../src/Loader.js","name":"parent","original":{"line":388,"column":21},"generated":{"line":1,"column":2526}},{"source":"../src/Loader.js","name":"children","original":{"line":388,"column":28},"generated":{"line":1,"column":2528}},{"source":"../src/Loader.js","name":"i","original":{"line":388,"column":37},"generated":{"line":1,"column":2537}},{"source":"../src/Loader.js","name":"isComplete","original":{"line":388,"column":40},"generated":{"line":1,"column":2540}},{"source":"../src/Loader.js","name":"incompleteChildren","original":{"line":389,"column":20},"generated":{"line":1,"column":2552}},{"source":"../src/Loader.js","name":"push","original":{"line":389,"column":39},"generated":{"line":1,"column":2554}},{"source":"../src/Loader.js","name":"parent","original":{"line":389,"column":44},"generated":{"line":1,"column":2559}},{"source":"../src/Loader.js","name":"children","original":{"line":389,"column":51},"generated":{"line":1,"column":2561}},{"source":"../src/Loader.js","name":"i","original":{"line":389,"column":60},"generated":{"line":1,"column":2570}},{"source":"../src/Loader.js","name":null,"original":{"line":393,"column":12},"generated":{"line":1,"column":2574}},{"source":"../src/Loader.js","name":"eachChunk","original":{"line":394,"column":18},"generated":{"line":1,"column":2578}},{"source":"../src/Loader.js","name":"parent","original":{"line":393,"column":30},"generated":{"line":1,"column":2580}},{"source":"../src/Loader.js","name":"progressChunk","original":{"line":393,"column":37},"generated":{"line":1,"column":2582}},{"source":"../src/Loader.js","name":"incompleteChildren","original":{"line":393,"column":54},"generated":{"line":1,"column":2597}},{"source":"../src/Loader.js","name":"length","original":{"line":393,"column":73},"generated":{"line":1,"column":2599}},{"source":"../src/Loader.js","name":null,"original":{"line":393,"column":82},"generated":{"line":1,"column":2606}},{"source":"../src/Loader.js","name":"incompleteChildren","original":{"line":394,"column":43},"generated":{"line":1,"column":2610}},{"source":"../src/Loader.js","name":"length","original":{"line":394,"column":62},"generated":{"line":1,"column":2612}},{"source":"../src/Loader.js","name":null,"original":{"line":394,"column":71},"generated":{"line":1,"column":2619}},{"source":"../src/Loader.js","name":"parent","original":{"line":396,"column":12},"generated":{"line":1,"column":2622}},{"source":"../src/Loader.js","name":"children","original":{"line":396,"column":19},"generated":{"line":1,"column":2624}},{"source":"../src/Loader.js","name":"push","original":{"line":396,"column":28},"generated":{"line":1,"column":2633}},{"source":"../src/Loader.js","name":null,"original":{"line":396,"column":33},"generated":{"line":1,"column":2638}},{"source":"../src/Loader.js","name":"resources","original":{"line":396,"column":38},"generated":{"line":1,"column":2643}},{"source":"../src/Loader.js","name":"name","original":{"line":396,"column":48},"generated":{"line":1,"column":2653}},{"source":"../src/Loader.js","name":"parent","original":{"line":397,"column":12},"generated":{"line":1,"column":2657}},{"source":"../src/Loader.js","name":"progressChunk","original":{"line":397,"column":19},"generated":{"line":1,"column":2659}},{"source":"../src/Loader.js","name":"eachChunk","original":{"line":397,"column":35},"generated":{"line":1,"column":2673}},{"source":"../src/Loader.js","name":null,"original":{"line":399,"column":12},"generated":{"line":1,"column":2675}},{"source":"../src/Loader.js","name":null,"original":{"line":399,"column":17},"generated":{"line":1,"column":2679}},{"source":"../src/Loader.js","name":"i","original":{"line":399,"column":21},"generated":{"line":1,"column":2683}},{"source":"../src/Loader.js","name":null,"original":{"line":399,"column":25},"generated":{"line":1,"column":2685}},{"source":"../src/Loader.js","name":"i","original":{"line":399,"column":28},"generated":{"line":1,"column":2687}},{"source":"../src/Loader.js","name":"incompleteChildren","original":{"line":399,"column":32},"generated":{"line":1,"column":2689}},{"source":"../src/Loader.js","name":"length","original":{"line":399,"column":51},"generated":{"line":1,"column":2691}},{"source":"../src/Loader.js","name":"i","original":{"line":399,"column":61},"generated":{"line":1,"column":2700}},{"source":"../src/Loader.js","name":"incompleteChildren","original":{"line":400,"column":16},"generated":{"line":1,"column":2702}},{"source":"../src/Loader.js","name":"i","original":{"line":400,"column":35},"generated":{"line":1,"column":2704}},{"source":"../src/Loader.js","name":"progressChunk","original":{"line":400,"column":38},"generated":{"line":1,"column":2707}},{"source":"../src/Loader.js","name":"eachChunk","original":{"line":400,"column":54},"generated":{"line":1,"column":2721}},{"source":"../src/Loader.js","name":null,"original":{"line":403,"column":12},"generated":{"line":1,"column":2723}},{"source":"../src/Loader.js","name":"resources","original":{"line":403,"column":17},"generated":{"line":1,"column":2728}},{"source":"../src/Loader.js","name":"name","original":{"line":403,"column":27},"generated":{"line":1,"column":2738}},{"source":"../src/Loader.js","name":"progressChunk","original":{"line":403,"column":33},"generated":{"line":1,"column":2741}},{"source":"../src/Loader.js","name":"eachChunk","original":{"line":403,"column":49},"generated":{"line":1,"column":2755}},{"source":"../src/Loader.js","name":null,"original":{"line":409,"column":8},"generated":{"line":1,"column":2757}},{"source":"../src/Loader.js","name":null,"original":{"line":407,"column":8},"generated":{"line":1,"column":2764}},{"source":"../src/Loader.js","name":"_queue","original":{"line":407,"column":13},"generated":{"line":1,"column":2769}},{"source":"../src/Loader.js","name":"push","original":{"line":407,"column":20},"generated":{"line":1,"column":2776}},{"source":"../src/Loader.js","name":null,"original":{"line":407,"column":25},"generated":{"line":1,"column":2781}},{"source":"../src/Loader.js","name":"resources","original":{"line":407,"column":30},"generated":{"line":1,"column":2786}},{"source":"../src/Loader.js","name":"name","original":{"line":407,"column":40},"generated":{"line":1,"column":2796}},{"source":"../src/Loader.js","name":null,"original":{"line":409,"column":15},"generated":{"line":1,"column":2800}},{"source":"../src/Loader.js","name":"pre","original":{"line":420,"column":4},"generated":{"line":1,"column":2818}},{"source":"../src/Loader.js","name":"fn","original":{"line":420,"column":8},"generated":{"line":1,"column":2831}},{"source":"../src/Loader.js","name":null,"original":{"line":423,"column":8},"generated":{"line":1,"column":2834}},{"source":"../src/Loader.js","name":null,"original":{"line":421,"column":8},"generated":{"line":1,"column":2841}},{"source":"../src/Loader.js","name":"_beforeMiddleware","original":{"line":421,"column":13},"generated":{"line":1,"column":2846}},{"source":"../src/Loader.js","name":"push","original":{"line":421,"column":31},"generated":{"line":1,"column":2864}},{"source":"../src/Loader.js","name":"fn","original":{"line":421,"column":36},"generated":{"line":1,"column":2869}},{"source":"../src/Loader.js","name":null,"original":{"line":423,"column":15},"generated":{"line":1,"column":2872}},{"source":"../src/Loader.js","name":"use","original":{"line":433,"column":4},"generated":{"line":1,"column":2890}},{"source":"../src/Loader.js","name":"fn","original":{"line":433,"column":8},"generated":{"line":1,"column":2903}},{"source":"../src/Loader.js","name":null,"original":{"line":436,"column":8},"generated":{"line":1,"column":2906}},{"source":"../src/Loader.js","name":null,"original":{"line":434,"column":8},"generated":{"line":1,"column":2913}},{"source":"../src/Loader.js","name":"_afterMiddleware","original":{"line":434,"column":13},"generated":{"line":1,"column":2918}},{"source":"../src/Loader.js","name":"push","original":{"line":434,"column":30},"generated":{"line":1,"column":2935}},{"source":"../src/Loader.js","name":"fn","original":{"line":434,"column":35},"generated":{"line":1,"column":2940}},{"source":"../src/Loader.js","name":null,"original":{"line":436,"column":15},"generated":{"line":1,"column":2943}},{"source":"../src/Loader.js","name":"reset","original":{"line":444,"column":4},"generated":{"line":1,"column":2961}},{"source":"../src/Loader.js","name":null,"original":{"line":452,"column":8},"generated":{"line":1,"column":2978}},{"source":"../src/Loader.js","name":null,"original":{"line":452,"column":13},"generated":{"line":1,"column":2982}},{"source":"../src/Loader.js","name":"k","original":{"line":452,"column":19},"generated":{"line":1,"column":2986}},{"source":"../src/Loader.js","name":null,"original":{"line":445,"column":8},"generated":{"line":1,"column":2991}},{"source":"../src/Loader.js","name":"progress","original":{"line":445,"column":13},"generated":{"line":1,"column":2996}},{"source":"../src/Loader.js","name":null,"original":{"line":445,"column":24},"generated":{"line":1,"column":3005}},{"source":"../src/Loader.js","name":null,"original":{"line":446,"column":8},"generated":{"line":1,"column":3007}},{"source":"../src/Loader.js","name":"loading","original":{"line":446,"column":13},"generated":{"line":1,"column":3012}},{"source":"../src/Loader.js","name":null,"original":{"line":446,"column":23},"generated":{"line":1,"column":3021}},{"source":"../src/Loader.js","name":null,"original":{"line":448,"column":8},"generated":{"line":1,"column":3023}},{"source":"../src/Loader.js","name":"_queue","original":{"line":448,"column":13},"generated":{"line":1,"column":3028}},{"source":"../src/Loader.js","name":"kill","original":{"line":448,"column":20},"generated":{"line":1,"column":3035}},{"source":"../src/Loader.js","name":null,"original":{"line":449,"column":8},"generated":{"line":1,"column":3042}},{"source":"../src/Loader.js","name":"_queue","original":{"line":449,"column":13},"generated":{"line":1,"column":3047}},{"source":"../src/Loader.js","name":"pause","original":{"line":449,"column":20},"generated":{"line":1,"column":3054}},{"source":"../src/Loader.js","name":null,"original":{"line":452,"column":24},"generated":{"line":1,"column":3062}},{"source":"../src/Loader.js","name":"resources","original":{"line":452,"column":29},"generated":{"line":1,"column":3067}},{"source":"../src/Loader.js","name":null,"original":{"line":452,"column":40},"generated":{"line":1,"column":3077}},{"source":"../src/Loader.js","name":null,"original":{"line":453,"column":12},"generated":{"line":1,"column":3078}},{"source":"../src/Loader.js","name":"res","original":{"line":453,"column":18},"generated":{"line":1,"column":3082}},{"source":"../src/Loader.js","name":null,"original":{"line":453,"column":24},"generated":{"line":1,"column":3084}},{"source":"../src/Loader.js","name":"resources","original":{"line":453,"column":29},"generated":{"line":1,"column":3089}},{"source":"../src/Loader.js","name":"k","original":{"line":453,"column":39},"generated":{"line":1,"column":3099}},{"source":"../src/Loader.js","name":"res","original":{"line":455,"column":16},"generated":{"line":1,"column":3102}},{"source":"../src/Loader.js","name":"_onLoadBinding","original":{"line":455,"column":20},"generated":{"line":1,"column":3104}},{"source":"../src/Loader.js","name":"res","original":{"line":456,"column":16},"generated":{"line":1,"column":3120}},{"source":"../src/Loader.js","name":"_onLoadBinding","original":{"line":456,"column":20},"generated":{"line":1,"column":3122}},{"source":"../src/Loader.js","name":"detach","original":{"line":456,"column":35},"generated":{"line":1,"column":3137}},{"source":"../src/Loader.js","name":"res","original":{"line":459,"column":16},"generated":{"line":1,"column":3146}},{"source":"../src/Loader.js","name":"isLoading","original":{"line":459,"column":20},"generated":{"line":1,"column":3148}},{"source":"../src/Loader.js","name":"res","original":{"line":460,"column":16},"generated":{"line":1,"column":3159}},{"source":"../src/Loader.js","name":"abort","original":{"line":460,"column":20},"generated":{"line":1,"column":3161}},{"source":"../src/Loader.js","name":null,"original":{"line":466,"column":8},"generated":{"line":1,"column":3169}},{"source":"../src/Loader.js","name":null,"original":{"line":464,"column":8},"generated":{"line":1,"column":3176}},{"source":"../src/Loader.js","name":"resources","original":{"line":464,"column":13},"generated":{"line":1,"column":3181}},{"source":"../src/Loader.js","name":null,"original":{"line":464,"column":25},"generated":{"line":1,"column":3191}},{"source":"../src/Loader.js","name":null,"original":{"line":466,"column":15},"generated":{"line":1,"column":3194}},{"source":"../src/Loader.js","name":"load","original":{"line":475,"column":4},"generated":{"line":1,"column":3212}},{"source":"../src/Loader.js","name":"cb","original":{"line":475,"column":9},"generated":{"line":1,"column":3226}},{"source":"../src/Loader.js","name":null,"original":{"line":482,"column":8},"generated":{"line":1,"column":3229}},{"source":"../src/Loader.js","name":null,"original":{"line":477,"column":26},"generated":{"line":1,"column":3232}},{"source":"../src/Loader.js","name":"cb","original":{"line":477,"column":19},"generated":{"line":1,"column":3251}},{"source":"../src/Loader.js","name":null,"original":{"line":478,"column":12},"generated":{"line":1,"column":3254}},{"source":"../src/Loader.js","name":"onComplete","original":{"line":478,"column":17},"generated":{"line":1,"column":3259}},{"source":"../src/Loader.js","name":"once","original":{"line":478,"column":28},"generated":{"line":1,"column":3270}},{"source":"../src/Loader.js","name":"cb","original":{"line":478,"column":33},"generated":{"line":1,"column":3275}},{"source":"../src/Loader.js","name":null,"original":{"line":482,"column":12},"generated":{"line":1,"column":3278}},{"source":"../src/Loader.js","name":"loading","original":{"line":482,"column":17},"generated":{"line":1,"column":3283}},{"source":"../src/Loader.js","name":null,"original":{"line":483,"column":12},"generated":{"line":1,"column":3291}},{"source":"../src/Loader.js","name":null,"original":{"line":483,"column":19},"generated":{"line":1,"column":3298}},{"source":"../src/Loader.js","name":null,"original":{"line":486,"column":8},"generated":{"line":1,"column":3303}},{"source":"../src/Loader.js","name":null,"original":{"line":486,"column":12},"generated":{"line":1,"column":3306}},{"source":"../src/Loader.js","name":"_queue","original":{"line":486,"column":17},"generated":{"line":1,"column":3311}},{"source":"../src/Loader.js","name":"idle","original":{"line":486,"column":24},"generated":{"line":1,"column":3318}},{"source":"../src/Loader.js","name":null,"original":{"line":487,"column":12},"generated":{"line":1,"column":3325}},{"source":"../src/Loader.js","name":"_onStart","original":{"line":487,"column":17},"generated":{"line":1,"column":3330}},{"source":"../src/Loader.js","name":null,"original":{"line":488,"column":12},"generated":{"line":1,"column":3341}},{"source":"../src/Loader.js","name":"_onComplete","original":{"line":488,"column":17},"generated":{"line":1,"column":3346}},{"source":"../src/Loader.js","name":null,"original":{"line":490,"column":13},"generated":{"line":1,"column":3364}},{"source":"../src/Loader.js","name":null,"original":{"line":495,"column":12},"generated":{"line":1,"column":3365}},{"source":"../src/Loader.js","name":null,"original":{"line":492,"column":12},"generated":{"line":1,"column":3369}},{"source":"../src/Loader.js","name":"numTasks","original":{"line":492,"column":18},"generated":{"line":1,"column":3373}},{"source":"../src/Loader.js","name":null,"original":{"line":492,"column":29},"generated":{"line":1,"column":3375}},{"source":"../src/Loader.js","name":"_queue","original":{"line":492,"column":34},"generated":{"line":1,"column":3380}},{"source":"../src/Loader.js","name":"_tasks","original":{"line":492,"column":41},"generated":{"line":1,"column":3387}},{"source":"../src/Loader.js","name":"length","original":{"line":492,"column":48},"generated":{"line":1,"column":3394}},{"source":"../src/Loader.js","name":"chunk","original":{"line":493,"column":18},"generated":{"line":1,"column":3401}},{"source":"../src/Loader.js","name":"MAX_PROGRESS","original":{"line":493,"column":26},"generated":{"line":1,"column":3403}},{"source":"../src/Loader.js","name":"numTasks","original":{"line":493,"column":41},"generated":{"line":1,"column":3405}},{"source":"../src/Loader.js","name":"i","original":{"line":495,"column":21},"generated":{"line":1,"column":3407}},{"source":"../src/Loader.js","name":null,"original":{"line":495,"column":25},"generated":{"line":1,"column":3409}},{"source":"../src/Loader.js","name":"i","original":{"line":495,"column":28},"generated":{"line":1,"column":3411}},{"source":"../src/Loader.js","name":null,"original":{"line":495,"column":32},"generated":{"line":1,"column":3413}},{"source":"../src/Loader.js","name":"_queue","original":{"line":495,"column":37},"generated":{"line":1,"column":3418}},{"source":"../src/Loader.js","name":"_tasks","original":{"line":495,"column":44},"generated":{"line":1,"column":3425}},{"source":"../src/Loader.js","name":"length","original":{"line":495,"column":51},"generated":{"line":1,"column":3432}},{"source":"../src/Loader.js","name":"i","original":{"line":495,"column":61},"generated":{"line":1,"column":3441}},{"source":"../src/Loader.js","name":null,"original":{"line":496,"column":16},"generated":{"line":1,"column":3443}},{"source":"../src/Loader.js","name":"_queue","original":{"line":496,"column":21},"generated":{"line":1,"column":3448}},{"source":"../src/Loader.js","name":"_tasks","original":{"line":496,"column":28},"generated":{"line":1,"column":3455}},{"source":"../src/Loader.js","name":"i","original":{"line":496,"column":35},"generated":{"line":1,"column":3462}},{"source":"../src/Loader.js","name":"data","original":{"line":496,"column":38},"generated":{"line":1,"column":3465}},{"source":"../src/Loader.js","name":"progressChunk","original":{"line":496,"column":43},"generated":{"line":1,"column":3470}},{"source":"../src/Loader.js","name":"chunk","original":{"line":496,"column":59},"generated":{"line":1,"column":3484}},{"source":"../src/Loader.js","name":null,"original":{"line":500,"column":12},"generated":{"line":1,"column":3486}},{"source":"../src/Loader.js","name":"_onStart","original":{"line":500,"column":17},"generated":{"line":1,"column":3491}},{"source":"../src/Loader.js","name":null,"original":{"line":503,"column":12},"generated":{"line":1,"column":3502}},{"source":"../src/Loader.js","name":"_queue","original":{"line":503,"column":17},"generated":{"line":1,"column":3507}},{"source":"../src/Loader.js","name":"resume","original":{"line":503,"column":24},"generated":{"line":1,"column":3514}},{"source":"../src/Loader.js","name":null,"original":{"line":506,"column":8},"generated":{"line":1,"column":3523}},{"source":"../src/Loader.js","name":null,"original":{"line":506,"column":15},"generated":{"line":1,"column":3530}},{"source":"../src/Loader.js","name":"_prepareUrl","original":{"line":530,"column":4},"generated":{"line":1,"column":3548}},{"source":"../src/Loader.js","name":"url","original":{"line":530,"column":16},"generated":{"line":1,"column":3569}},{"source":"../src/Loader.js","name":null,"original":{"line":531,"column":8},"generated":{"line":1,"column":3572}},{"source":"../src/Loader.js","name":"parsedUrl","original":{"line":531,"column":14},"generated":{"line":1,"column":3576}},{"source":"../src/Loader.js","name":null,"original":{"line":531,"column":26},"generated":{"line":1,"column":3579}},{"source":"../src/Loader.js","name":null,"original":{"line":531,"column":26},"generated":{"line":1,"column":3581}},{"source":"../src/Loader.js","name":null,"original":{"line":531,"column":26},"generated":{"line":1,"column":3583}},{"source":"../src/Loader.js","name":"url","original":{"line":531,"column":35},"generated":{"line":1,"column":3592}},{"source":"../src/Loader.js","name":null,"original":{"line":531,"column":40},"generated":{"line":1,"column":3594}},{"source":"../src/Loader.js","name":"strictMode","original":{"line":531,"column":42},"generated":{"line":1,"column":3595}},{"source":"../src/Loader.js","name":null,"original":{"line":531,"column":54},"generated":{"line":1,"column":3607}},{"source":"../src/Loader.js","name":"result","original":{"line":532,"column":12},"generated":{"line":1,"column":3611}},{"source":"../src/Loader.js","name":"result","original":{"line":532,"column":12},"generated":{"line":1,"column":3618}},{"source":"../src/Loader.js","name":null,"original":{"line":550,"column":8},"generated":{"line":1,"column":3620}},{"source":"../src/Loader.js","name":"result","original":{"line":536,"column":12},"generated":{"line":1,"column":3623}},{"source":"../src/Loader.js","name":"parsedUrl","original":{"line":535,"column":12},"generated":{"line":1,"column":3625}},{"source":"../src/Loader.js","name":"protocol","original":{"line":535,"column":22},"generated":{"line":1,"column":3627}},{"source":"../src/Loader.js","name":"parsedUrl","original":{"line":535,"column":35},"generated":{"line":1,"column":3638}},{"source":"../src/Loader.js","name":"path","original":{"line":535,"column":45},"generated":{"line":1,"column":3640}},{"source":"../src/Loader.js","name":null,"original":{"line":535,"column":75},"generated":{"line":1,"column":3646}},{"source":"../src/Loader.js","name":"url","original":{"line":535,"column":53},"generated":{"line":1,"column":3650}},{"source":"../src/Loader.js","name":"indexOf","original":{"line":535,"column":57},"generated":{"line":1,"column":3652}},{"source":"../src/Loader.js","name":null,"original":{"line":535,"column":65},"generated":{"line":1,"column":3660}},{"source":"../src/Loader.js","name":"url","original":{"line":536,"column":21},"generated":{"line":1,"column":3666}},{"source":"../src/Loader.js","name":null,"original":{"line":539,"column":17},"generated":{"line":1,"column":3668}},{"source":"../src/Loader.js","name":"baseUrl","original":{"line":539,"column":22},"generated":{"line":1,"column":3673}},{"source":"../src/Loader.js","name":"length","original":{"line":539,"column":30},"generated":{"line":1,"column":3681}},{"source":"../src/Loader.js","name":null,"original":{"line":540,"column":15},"generated":{"line":1,"column":3689}},{"source":"../src/Loader.js","name":"baseUrl","original":{"line":540,"column":20},"generated":{"line":1,"column":3694}},{"source":"../src/Loader.js","name":"lastIndexOf","original":{"line":540,"column":28},"generated":{"line":1,"column":3702}},{"source":"../src/Loader.js","name":null,"original":{"line":540,"column":40},"generated":{"line":1,"column":3714}},{"source":"../src/Loader.js","name":null,"original":{"line":540,"column":49},"generated":{"line":1,"column":3721}},{"source":"../src/Loader.js","name":"baseUrl","original":{"line":540,"column":54},"generated":{"line":1,"column":3726}},{"source":"../src/Loader.js","name":"length","original":{"line":540,"column":62},"generated":{"line":1,"column":3734}},{"source":"../src/Loader.js","name":null,"original":{"line":540,"column":71},"generated":{"line":1,"column":3741}},{"source":"../src/Loader.js","name":null,"original":{"line":541,"column":33},"generated":{"line":1,"column":3744}},{"source":"../src/Loader.js","name":"url","original":{"line":541,"column":15},"generated":{"line":1,"column":3750}},{"source":"../src/Loader.js","name":"charAt","original":{"line":541,"column":19},"generated":{"line":1,"column":3752}},{"source":"../src/Loader.js","name":null,"original":{"line":541,"column":26},"generated":{"line":1,"column":3759}},{"source":"../src/Loader.js","name":null,"original":{"line":543,"column":24},"generated":{"line":1,"column":3762}},{"source":"../src/Loader.js","name":"baseUrl","original":{"line":543,"column":29},"generated":{"line":1,"column":3767}},{"source":"../src/Loader.js","name":null,"original":{"line":543,"column":12},"generated":{"line":1,"column":3775}},{"source":"../src/Loader.js","name":"url","original":{"line":543,"column":40},"generated":{"line":1,"column":3779}},{"source":"../src/Loader.js","name":null,"original":{"line":546,"column":21},"generated":{"line":1,"column":3781}},{"source":"../src/Loader.js","name":"baseUrl","original":{"line":546,"column":26},"generated":{"line":1,"column":3786}},{"source":"../src/Loader.js","name":"url","original":{"line":546,"column":36},"generated":{"line":1,"column":3794}},{"source":"../src/Loader.js","name":null,"original":{"line":550,"column":12},"generated":{"line":1,"column":3796}},{"source":"../src/Loader.js","name":"defaultQueryString","original":{"line":550,"column":17},"generated":{"line":1,"column":3801}},{"source":"../src/Loader.js","name":null,"original":{"line":550,"column":37},"generated":{"line":1,"column":3820}},{"source":"../src/Loader.js","name":null,"original":{"line":551,"column":12},"generated":{"line":1,"column":3821}},{"source":"../src/Loader.js","name":"hash","original":{"line":551,"column":18},"generated":{"line":1,"column":3825}},{"source":"../src/Loader.js","name":"rgxExtractUrlHash","original":{"line":551,"column":25},"generated":{"line":1,"column":3827}},{"source":"../src/Loader.js","name":"exec","original":{"line":551,"column":43},"generated":{"line":1,"column":3829}},{"source":"../src/Loader.js","name":"result","original":{"line":551,"column":48},"generated":{"line":1,"column":3834}},{"source":"../src/Loader.js","name":null,"original":{"line":551,"column":56},"generated":{"line":1,"column":3837}},{"source":"../src/Loader.js","name":null,"original":{"line":555,"column":41},"generated":{"line":1,"column":3841}},{"source":"../src/Loader.js","name":"result","original":{"line":553,"column":12},"generated":{"line":1,"column":3846}},{"source":"../src/Loader.js","name":"result","original":{"line":553,"column":21},"generated":{"line":1,"column":3848}},{"source":"../src/Loader.js","name":"substr","original":{"line":553,"column":28},"generated":{"line":1,"column":3850}},{"source":"../src/Loader.js","name":null,"original":{"line":553,"column":35},"generated":{"line":1,"column":3857}},{"source":"../src/Loader.js","name":"result","original":{"line":553,"column":38},"generated":{"line":1,"column":3859}},{"source":"../src/Loader.js","name":"length","original":{"line":553,"column":45},"generated":{"line":1,"column":3861}},{"source":"../src/Loader.js","name":"hash","original":{"line":553,"column":54},"generated":{"line":1,"column":3868}},{"source":"../src/Loader.js","name":"length","original":{"line":553,"column":59},"generated":{"line":1,"column":3870}},{"source":"../src/Loader.js","name":"indexOf","original":{"line":555,"column":23},"generated":{"line":1,"column":3879}},{"source":"../src/Loader.js","name":null,"original":{"line":555,"column":31},"generated":{"line":1,"column":3887}},{"source":"../src/Loader.js","name":"result","original":{"line":556,"column":16},"generated":{"line":1,"column":3892}},{"source":"../src/Loader.js","name":"result","original":{"line":556,"column":16},"generated":{"line":1,"column":3895}},{"source":"../src/Loader.js","name":null,"original":{"line":556,"column":30},"generated":{"line":1,"column":3899}},{"source":"../src/Loader.js","name":"defaultQueryString","original":{"line":556,"column":35},"generated":{"line":1,"column":3904}},{"source":"../src/Loader.js","name":"result","original":{"line":559,"column":16},"generated":{"line":1,"column":3923}},{"source":"../src/Loader.js","name":"result","original":{"line":559,"column":16},"generated":{"line":1,"column":3926}},{"source":"../src/Loader.js","name":null,"original":{"line":559,"column":30},"generated":{"line":1,"column":3930}},{"source":"../src/Loader.js","name":"defaultQueryString","original":{"line":559,"column":35},"generated":{"line":1,"column":3935}},{"source":"../src/Loader.js","name":"result","original":{"line":562,"column":12},"generated":{"line":1,"column":3954}},{"source":"../src/Loader.js","name":"hash","original":{"line":562,"column":22},"generated":{"line":1,"column":3957}},{"source":"../src/Loader.js","name":null,"original":{"line":565,"column":8},"generated":{"line":1,"column":3959}},{"source":"../src/Loader.js","name":"result","original":{"line":565,"column":15},"generated":{"line":1,"column":3966}},{"source":"../src/Loader.js","name":"_loadResource","original":{"line":575,"column":4},"generated":{"line":1,"column":3981}},{"source":"../src/Loader.js","name":"resource","original":{"line":575,"column":18},"generated":{"line":1,"column":4004}},{"source":"../src/Loader.js","name":"dequeue","original":{"line":575,"column":28},"generated":{"line":1,"column":4006}},{"source":"../src/Loader.js","name":null,"original":{"line":575,"column":37},"generated":{"line":1,"column":4009}},{"source":"../src/Loader.js","name":null,"original":{"line":575,"column":37},"generated":{"line":1,"column":4013}},{"source":"../src/Loader.js","name":null,"original":{"line":575,"column":37},"generated":{"line":1,"column":4015}},{"source":"../src/Loader.js","name":"resource","original":{"line":576,"column":8},"generated":{"line":1,"column":4020}},{"source":"../src/Loader.js","name":"_dequeue","original":{"line":576,"column":17},"generated":{"line":1,"column":4022}},{"source":"../src/Loader.js","name":"dequeue","original":{"line":576,"column":28},"generated":{"line":1,"column":4031}},{"source":"../src/Loader.js","name":"async","original":{"line":579,"column":8},"generated":{"line":1,"column":4033}},{"source":"../src/Loader.js","name":"eachSeries","original":{"line":579,"column":14},"generated":{"line":1,"column":4035}},{"source":"../src/Loader.js","name":null,"original":{"line":580,"column":12},"generated":{"line":1,"column":4046}},{"source":"../src/Loader.js","name":"_beforeMiddleware","original":{"line":580,"column":17},"generated":{"line":1,"column":4051}},{"source":"../src/Loader.js","name":null,"original":{"line":581,"column":12},"generated":{"line":1,"column":4069}},{"source":"../src/Loader.js","name":"fn","original":{"line":581,"column":13},"generated":{"line":1,"column":4078}},{"source":"../src/Loader.js","name":"next","original":{"line":581,"column":17},"generated":{"line":1,"column":4080}},{"source":"../src/Loader.js","name":"fn","original":{"line":582,"column":16},"generated":{"line":1,"column":4083}},{"source":"../src/Loader.js","name":"call","original":{"line":582,"column":19},"generated":{"line":1,"column":4085}},{"source":"../src/Loader.js","name":null,"original":{"line":582,"column":24},"generated":{"line":1,"column":4090}},{"source":"../src/Loader.js","name":"resource","original":{"line":582,"column":30},"generated":{"line":1,"column":4092}},{"source":"../src/Loader.js","name":null,"original":{"line":582,"column":40},"generated":{"line":1,"column":4094}},{"source":"../src/Loader.js","name":"next","original":{"line":585,"column":20},"generated":{"line":1,"column":4105}},{"source":"../src/Loader.js","name":"resource","original":{"line":585,"column":25},"generated":{"line":1,"column":4107}},{"source":"../src/Loader.js","name":"isComplete","original":{"line":585,"column":34},"generated":{"line":1,"column":4109}},{"source":"../src/Loader.js","name":null,"original":{"line":585,"column":47},"generated":{"line":1,"column":4120}},{"source":"../src/Loader.js","name":null,"original":{"line":585,"column":52},"generated":{"line":1,"column":4123}},{"source":"../src/Loader.js","name":null,"original":{"line":588,"column":12},"generated":{"line":1,"column":4132}},{"source":"../src/Loader.js","name":"resource","original":{"line":589,"column":20},"generated":{"line":1,"column":4143}},{"source":"../src/Loader.js","name":"isComplete","original":{"line":589,"column":29},"generated":{"line":1,"column":4145}},{"source":"../src/Loader.js","name":null,"original":{"line":590,"column":20},"generated":{"line":1,"column":4156}},{"source":"../src/Loader.js","name":"_onLoad","original":{"line":590,"column":25},"generated":{"line":1,"column":4158}},{"source":"../src/Loader.js","name":"resource","original":{"line":590,"column":33},"generated":{"line":1,"column":4166}},{"source":"../src/Loader.js","name":"resource","original":{"line":593,"column":20},"generated":{"line":1,"column":4170}},{"source":"../src/Loader.js","name":"_onLoadBinding","original":{"line":593,"column":29},"generated":{"line":1,"column":4172}},{"source":"../src/Loader.js","name":"resource","original":{"line":593,"column":46},"generated":{"line":1,"column":4187}},{"source":"../src/Loader.js","name":"onComplete","original":{"line":593,"column":55},"generated":{"line":1,"column":4189}},{"source":"../src/Loader.js","name":"once","original":{"line":593,"column":66},"generated":{"line":1,"column":4200}},{"source":"../src/Loader.js","name":null,"original":{"line":593,"column":71},"generated":{"line":1,"column":4205}},{"source":"../src/Loader.js","name":"_onLoad","original":{"line":593,"column":76},"generated":{"line":1,"column":4207}},{"source":"../src/Loader.js","name":null,"original":{"line":593,"column":85},"generated":{"line":1,"column":4215}},{"source":"../src/Loader.js","name":"resource","original":{"line":594,"column":20},"generated":{"line":1,"column":4218}},{"source":"../src/Loader.js","name":"load","original":{"line":594,"column":29},"generated":{"line":1,"column":4220}},{"source":"../src/Loader.js","name":null,"original":{"line":597,"column":12},"generated":{"line":1,"column":4230}},{"source":"../src/Loader.js","name":"_onStart","original":{"line":606,"column":4},"generated":{"line":1,"column":4246}},{"source":"../src/Loader.js","name":null,"original":{"line":607,"column":8},"generated":{"line":1,"column":4266}},{"source":"../src/Loader.js","name":"progress","original":{"line":607,"column":13},"generated":{"line":1,"column":4271}},{"source":"../src/Loader.js","name":null,"original":{"line":607,"column":24},"generated":{"line":1,"column":4280}},{"source":"../src/Loader.js","name":null,"original":{"line":608,"column":8},"generated":{"line":1,"column":4282}},{"source":"../src/Loader.js","name":"loading","original":{"line":608,"column":13},"generated":{"line":1,"column":4287}},{"source":"../src/Loader.js","name":null,"original":{"line":608,"column":23},"generated":{"line":1,"column":4296}},{"source":"../src/Loader.js","name":null,"original":{"line":609,"column":8},"generated":{"line":1,"column":4298}},{"source":"../src/Loader.js","name":"onStart","original":{"line":609,"column":13},"generated":{"line":1,"column":4303}},{"source":"../src/Loader.js","name":"dispatch","original":{"line":609,"column":21},"generated":{"line":1,"column":4311}},{"source":"../src/Loader.js","name":null,"original":{"line":609,"column":30},"generated":{"line":1,"column":4320}},{"source":"../src/Loader.js","name":"_onComplete","original":{"line":617,"column":4},"generated":{"line":1,"column":4339}},{"source":"../src/Loader.js","name":null,"original":{"line":618,"column":8},"generated":{"line":1,"column":4362}},{"source":"../src/Loader.js","name":"progress","original":{"line":618,"column":13},"generated":{"line":1,"column":4367}},{"source":"../src/Loader.js","name":"MAX_PROGRESS","original":{"line":618,"column":24},"generated":{"line":1,"column":4376}},{"source":"../src/Loader.js","name":null,"original":{"line":619,"column":8},"generated":{"line":1,"column":4378}},{"source":"../src/Loader.js","name":"loading","original":{"line":619,"column":13},"generated":{"line":1,"column":4383}},{"source":"../src/Loader.js","name":null,"original":{"line":619,"column":23},"generated":{"line":1,"column":4392}},{"source":"../src/Loader.js","name":null,"original":{"line":620,"column":8},"generated":{"line":1,"column":4394}},{"source":"../src/Loader.js","name":"onComplete","original":{"line":620,"column":13},"generated":{"line":1,"column":4399}},{"source":"../src/Loader.js","name":"dispatch","original":{"line":620,"column":24},"generated":{"line":1,"column":4410}},{"source":"../src/Loader.js","name":null,"original":{"line":620,"column":33},"generated":{"line":1,"column":4419}},{"source":"../src/Loader.js","name":null,"original":{"line":620,"column":39},"generated":{"line":1,"column":4424}},{"source":"../src/Loader.js","name":"resources","original":{"line":620,"column":44},"generated":{"line":1,"column":4429}},{"source":"../src/Loader.js","name":"_onLoad","original":{"line":629,"column":4},"generated":{"line":1,"column":4453}},{"source":"../src/Loader.js","name":"resource","original":{"line":629,"column":12},"generated":{"line":1,"column":4470}},{"source":"../src/Loader.js","name":null,"original":{"line":629,"column":22},"generated":{"line":1,"column":4473}},{"source":"../src/Loader.js","name":null,"original":{"line":629,"column":22},"generated":{"line":1,"column":4477}},{"source":"../src/Loader.js","name":null,"original":{"line":629,"column":22},"generated":{"line":1,"column":4479}},{"source":"../src/Loader.js","name":"resource","original":{"line":630,"column":8},"generated":{"line":1,"column":4484}},{"source":"../src/Loader.js","name":"_onLoadBinding","original":{"line":630,"column":17},"generated":{"line":1,"column":4486}},{"source":"../src/Loader.js","name":null,"original":{"line":630,"column":34},"generated":{"line":1,"column":4501}},{"source":"../src/Loader.js","name":null,"original":{"line":633,"column":8},"generated":{"line":1,"column":4506}},{"source":"../src/Loader.js","name":"_resourcesParsing","original":{"line":633,"column":13},"generated":{"line":1,"column":4511}},{"source":"../src/Loader.js","name":"push","original":{"line":633,"column":31},"generated":{"line":1,"column":4529}},{"source":"../src/Loader.js","name":"resource","original":{"line":633,"column":36},"generated":{"line":1,"column":4534}},{"source":"../src/Loader.js","name":"resource","original":{"line":634,"column":8},"generated":{"line":1,"column":4537}},{"source":"../src/Loader.js","name":"_dequeue","original":{"line":634,"column":17},"generated":{"line":1,"column":4539}},{"source":"../src/Loader.js","name":"async","original":{"line":637,"column":8},"generated":{"line":1,"column":4550}},{"source":"../src/Loader.js","name":"eachSeries","original":{"line":637,"column":14},"generated":{"line":1,"column":4552}},{"source":"../src/Loader.js","name":null,"original":{"line":638,"column":12},"generated":{"line":1,"column":4563}},{"source":"../src/Loader.js","name":"_afterMiddleware","original":{"line":638,"column":17},"generated":{"line":1,"column":4568}},{"source":"../src/Loader.js","name":null,"original":{"line":639,"column":12},"generated":{"line":1,"column":4585}},{"source":"../src/Loader.js","name":"fn","original":{"line":639,"column":13},"generated":{"line":1,"column":4594}},{"source":"../src/Loader.js","name":"next","original":{"line":639,"column":17},"generated":{"line":1,"column":4596}},{"source":"../src/Loader.js","name":"fn","original":{"line":640,"column":16},"generated":{"line":1,"column":4599}},{"source":"../src/Loader.js","name":"call","original":{"line":640,"column":19},"generated":{"line":1,"column":4601}},{"source":"../src/Loader.js","name":null,"original":{"line":640,"column":24},"generated":{"line":1,"column":4606}},{"source":"../src/Loader.js","name":"resource","original":{"line":640,"column":30},"generated":{"line":1,"column":4608}},{"source":"../src/Loader.js","name":"next","original":{"line":640,"column":40},"generated":{"line":1,"column":4610}},{"source":"../src/Loader.js","name":null,"original":{"line":642,"column":12},"generated":{"line":1,"column":4614}},{"source":"../src/Loader.js","name":"resource","original":{"line":643,"column":16},"generated":{"line":1,"column":4625}},{"source":"../src/Loader.js","name":"onAfterMiddleware","original":{"line":643,"column":25},"generated":{"line":1,"column":4627}},{"source":"../src/Loader.js","name":"dispatch","original":{"line":643,"column":43},"generated":{"line":1,"column":4645}},{"source":"../src/Loader.js","name":"resource","original":{"line":643,"column":52},"generated":{"line":1,"column":4654}},{"source":"../src/Loader.js","name":null,"original":{"line":645,"column":16},"generated":{"line":1,"column":4657}},{"source":"../src/Loader.js","name":"progress","original":{"line":645,"column":21},"generated":{"line":1,"column":4659}},{"source":"../src/Loader.js","name":"Math","original":{"line":645,"column":32},"generated":{"line":1,"column":4668}},{"source":"../src/Loader.js","name":"min","original":{"line":645,"column":37},"generated":{"line":1,"column":4673}},{"source":"../src/Loader.js","name":"MAX_PROGRESS","original":{"line":645,"column":41},"generated":{"line":1,"column":4677}},{"source":"../src/Loader.js","name":null,"original":{"line":645,"column":55},"generated":{"line":1,"column":4679}},{"source":"../src/Loader.js","name":"progress","original":{"line":645,"column":60},"generated":{"line":1,"column":4681}},{"source":"../src/Loader.js","name":"resource","original":{"line":645,"column":71},"generated":{"line":1,"column":4690}},{"source":"../src/Loader.js","name":"progressChunk","original":{"line":645,"column":80},"generated":{"line":1,"column":4692}},{"source":"../src/Loader.js","name":null,"original":{"line":646,"column":16},"generated":{"line":1,"column":4707}},{"source":"../src/Loader.js","name":"onProgress","original":{"line":646,"column":21},"generated":{"line":1,"column":4709}},{"source":"../src/Loader.js","name":"dispatch","original":{"line":646,"column":32},"generated":{"line":1,"column":4720}},{"source":"../src/Loader.js","name":null,"original":{"line":646,"column":41},"generated":{"line":1,"column":4729}},{"source":"../src/Loader.js","name":"resource","original":{"line":646,"column":47},"generated":{"line":1,"column":4731}},{"source":"../src/Loader.js","name":"resource","original":{"line":648,"column":20},"generated":{"line":1,"column":4734}},{"source":"../src/Loader.js","name":"error","original":{"line":648,"column":29},"generated":{"line":1,"column":4736}},{"source":"../src/Loader.js","name":null,"original":{"line":649,"column":20},"generated":{"line":1,"column":4742}},{"source":"../src/Loader.js","name":"onError","original":{"line":649,"column":25},"generated":{"line":1,"column":4744}},{"source":"../src/Loader.js","name":"dispatch","original":{"line":649,"column":33},"generated":{"line":1,"column":4752}},{"source":"../src/Loader.js","name":"resource","original":{"line":649,"column":42},"generated":{"line":1,"column":4761}},{"source":"../src/Loader.js","name":"error","original":{"line":649,"column":51},"generated":{"line":1,"column":4763}},{"source":"../src/Loader.js","name":null,"original":{"line":649,"column":58},"generated":{"line":1,"column":4769}},{"source":"../src/Loader.js","name":"resource","original":{"line":649,"column":64},"generated":{"line":1,"column":4771}},{"source":"../src/Loader.js","name":null,"original":{"line":652,"column":20},"generated":{"line":1,"column":4774}},{"source":"../src/Loader.js","name":"onLoad","original":{"line":652,"column":25},"generated":{"line":1,"column":4776}},{"source":"../src/Loader.js","name":"dispatch","original":{"line":652,"column":32},"generated":{"line":1,"column":4783}},{"source":"../src/Loader.js","name":null,"original":{"line":652,"column":41},"generated":{"line":1,"column":4792}},{"source":"../src/Loader.js","name":"resource","original":{"line":652,"column":47},"generated":{"line":1,"column":4794}},{"source":"../src/Loader.js","name":null,"original":{"line":655,"column":16},"generated":{"line":1,"column":4797}},{"source":"../src/Loader.js","name":"_resourcesParsing","original":{"line":655,"column":21},"generated":{"line":1,"column":4799}},{"source":"../src/Loader.js","name":"splice","original":{"line":655,"column":39},"generated":{"line":1,"column":4817}},{"source":"../src/Loader.js","name":null,"original":{"line":655,"column":46},"generated":{"line":1,"column":4824}},{"source":"../src/Loader.js","name":"_resourcesParsing","original":{"line":655,"column":51},"generated":{"line":1,"column":4826}},{"source":"../src/Loader.js","name":"indexOf","original":{"line":655,"column":69},"generated":{"line":1,"column":4844}},{"source":"../src/Loader.js","name":"resource","original":{"line":655,"column":77},"generated":{"line":1,"column":4852}},{"source":"../src/Loader.js","name":null,"original":{"line":655,"column":88},"generated":{"line":1,"column":4855}},{"source":"../src/Loader.js","name":null,"original":{"line":658,"column":20},"generated":{"line":1,"column":4858}},{"source":"../src/Loader.js","name":"_queue","original":{"line":658,"column":25},"generated":{"line":1,"column":4860}},{"source":"../src/Loader.js","name":"idle","original":{"line":658,"column":32},"generated":{"line":1,"column":4867}},{"source":"../src/Loader.js","name":null,"original":{"line":658,"column":76},"generated":{"line":1,"column":4875}},{"source":"../src/Loader.js","name":null,"original":{"line":658,"column":42},"generated":{"line":1,"column":4879}},{"source":"../src/Loader.js","name":"_resourcesParsing","original":{"line":658,"column":47},"generated":{"line":1,"column":4881}},{"source":"../src/Loader.js","name":"length","original":{"line":658,"column":65},"generated":{"line":1,"column":4899}},{"source":"../src/Loader.js","name":null,"original":{"line":659,"column":20},"generated":{"line":1,"column":4907}},{"source":"../src/Loader.js","name":"_onComplete","original":{"line":659,"column":25},"generated":{"line":1,"column":4909}},{"source":"../src/Loader.js","name":null,"original":{"line":662,"column":12},"generated":{"line":1,"column":4925}},{"source":"../src/Loader.js","name":null,"original":{"line":516,"column":8},"generated":{"line":1,"column":4968}},{"source":"../src/Loader.js","name":null,"original":{"line":516,"column":15},"generated":{"line":1,"column":4975}},{"source":"../src/Loader.js","name":"_queue","original":{"line":516,"column":20},"generated":{"line":1,"column":4980}},{"source":"../src/Loader.js","name":"concurrency","original":{"line":516,"column":27},"generated":{"line":1,"column":4987}},{"source":"../src/Loader.js","name":"concurrency","original":{"line":519,"column":20},"generated":{"line":1,"column":5013}},{"source":"../src/Loader.js","name":null,"original":{"line":520,"column":8},"generated":{"line":1,"column":5016}},{"source":"../src/Loader.js","name":"_queue","original":{"line":520,"column":13},"generated":{"line":1,"column":5021}},{"source":"../src/Loader.js","name":"concurrency","original":{"line":520,"column":20},"generated":{"line":1,"column":5028}},{"source":"../src/Loader.js","name":"concurrency","original":{"line":520,"column":34},"generated":{"line":1,"column":5040}},{"source":"../src/Loader.js","name":"Loader","original":{"line":674,"column":0},"generated":{"line":1,"column":5051}},{"source":"../src/Loader.js","name":"_defaultBeforeMiddleware","original":{"line":674,"column":7},"generated":{"line":1,"column":5053}},{"source":"../src/Loader.js","name":null,"original":{"line":674,"column":34},"generated":{"line":1,"column":5078}},{"source":"../src/Loader.js","name":"Loader","original":{"line":683,"column":0},"generated":{"line":1,"column":5081}},{"source":"../src/Loader.js","name":"_defaultAfterMiddleware","original":{"line":683,"column":7},"generated":{"line":1,"column":5083}},{"source":"../src/Loader.js","name":null,"original":{"line":683,"column":33},"generated":{"line":1,"column":5107}},{"source":"../src/Loader.js","name":"Loader","original":{"line":693,"column":0},"generated":{"line":1,"column":5110}},{"source":"../src/Loader.js","name":"pre","original":{"line":693,"column":7},"generated":{"line":1,"column":5112}},{"source":"../src/Loader.js","name":null,"original":{"line":693,"column":13},"generated":{"line":1,"column":5116}},{"source":"../src/Loader.js","name":"fn","original":{"line":693,"column":38},"generated":{"line":1,"column":5125}},{"source":"../src/Loader.js","name":null,"original":{"line":696,"column":4},"generated":{"line":1,"column":5128}},{"source":"../src/Loader.js","name":"Loader","original":{"line":694,"column":4},"generated":{"line":1,"column":5135}},{"source":"../src/Loader.js","name":"_defaultBeforeMiddleware","original":{"line":694,"column":11},"generated":{"line":1,"column":5137}},{"source":"../src/Loader.js","name":"push","original":{"line":694,"column":36},"generated":{"line":1,"column":5162}},{"source":"../src/Loader.js","name":"fn","original":{"line":694,"column":41},"generated":{"line":1,"column":5167}},{"source":"../src/Loader.js","name":"Loader","original":{"line":696,"column":11},"generated":{"line":1,"column":5170}},{"source":"../src/Loader.js","name":"Loader","original":{"line":707,"column":0},"generated":{"line":1,"column":5173}},{"source":"../src/Loader.js","name":"use","original":{"line":707,"column":7},"generated":{"line":1,"column":5175}},{"source":"../src/Loader.js","name":null,"original":{"line":707,"column":13},"generated":{"line":1,"column":5179}},{"source":"../src/Loader.js","name":"fn","original":{"line":707,"column":38},"generated":{"line":1,"column":5188}},{"source":"../src/Loader.js","name":null,"original":{"line":710,"column":4},"generated":{"line":1,"column":5191}},{"source":"../src/Loader.js","name":"Loader","original":{"line":708,"column":4},"generated":{"line":1,"column":5198}},{"source":"../src/Loader.js","name":"_defaultAfterMiddleware","original":{"line":708,"column":11},"generated":{"line":1,"column":5200}},{"source":"../src/Loader.js","name":"push","original":{"line":708,"column":35},"generated":{"line":1,"column":5224}},{"source":"../src/Loader.js","name":"fn","original":{"line":708,"column":40},"generated":{"line":1,"column":5229}},{"source":"../src/Loader.js","name":"Loader","original":{"line":710,"column":11},"generated":{"line":1,"column":5232}}],"sources":{"../src/Loader.js":"import Signal from 'mini-signals';\nimport parseUri from 'parse-uri';\nimport * as async from './async';\nimport { Resource } from './Resource';\n\n// some constants\nconst MAX_PROGRESS = 100;\nconst rgxExtractUrlHash = /(#[\\w-]+)?$/;\n\n/**\n * Manages the state and loading of multiple resources to load.\n *\n * @class\n */\nexport class Loader {\n    /**\n     * @param {string} [baseUrl=''] - The base url for all resources loaded by this loader.\n     * @param {number} [concurrency=10] - The number of resources to load concurrently.\n     */\n    constructor(baseUrl = '', concurrency = 10) {\n        /**\n         * The base url for all resources loaded by this loader.\n         *\n         * @member {string}\n         */\n        this.baseUrl = baseUrl;\n\n        /**\n         * The progress percent of the loader going through the queue.\n         *\n         * @member {number}\n         */\n        this.progress = 0;\n\n        /**\n         * Loading state of the loader, true if it is currently loading resources.\n         *\n         * @member {boolean}\n         */\n        this.loading = false;\n\n        /**\n         * A querystring to append to every URL added to the loader.\n         *\n         * This should be a valid query string *without* the question-mark (`?`). The loader will\n         * also *not* escape values for you. Make sure to escape your parameters with\n         * [`encodeURIComponent`](https://mdn.io/encodeURIComponent) before assigning this property.\n         *\n         * @example\n         * const loader = new Loader();\n         *\n         * loader.defaultQueryString = 'user=me&password=secret';\n         *\n         * // This will request 'image.png?user=me&password=secret'\n         * loader.add('image.png').load();\n         *\n         * loader.reset();\n         *\n         * // This will request 'image.png?v=1&user=me&password=secret'\n         * loader.add('iamge.png?v=1').load();\n         *\n         * @member {string}\n         */\n        this.defaultQueryString = '';\n\n        /**\n         * The middleware to run before loading each resource.\n         *\n         * @private\n         * @member {function[]}\n         */\n        this._beforeMiddleware = [];\n\n        /**\n         * The middleware to run after loading each resource.\n         *\n         * @private\n         * @member {function[]}\n         */\n        this._afterMiddleware = [];\n\n        /**\n         * The tracks the resources we are currently completing parsing for.\n         *\n         * @private\n         * @member {Resource[]}\n         */\n        this._resourcesParsing = [];\n\n        /**\n         * The `_loadResource` function bound with this object context.\n         *\n         * @private\n         * @member {function}\n         * @param {Resource} r - The resource to load\n         * @param {Function} d - The dequeue function\n         * @return {undefined}\n         */\n        this._boundLoadResource = (r, d) => this._loadResource(r, d);\n\n        /**\n         * The resources waiting to be loaded.\n         *\n         * @private\n         * @member {Resource[]}\n         */\n        this._queue = async.queue(this._boundLoadResource, concurrency);\n\n        this._queue.pause();\n\n        /**\n         * All the resources for this loader keyed by name.\n         *\n         * @member {object<string, Resource>}\n         */\n        this.resources = {};\n\n        /**\n         * Dispatched once per loaded or errored resource.\n         *\n         * The callback looks like {@link Loader.OnProgressSignal}.\n         *\n         * @member {Signal<Loader.OnProgressSignal>}\n         */\n        this.onProgress = new Signal();\n\n        /**\n         * Dispatched once per errored resource.\n         *\n         * The callback looks like {@link Loader.OnErrorSignal}.\n         *\n         * @member {Signal<Loader.OnErrorSignal>}\n         */\n        this.onError = new Signal();\n\n        /**\n         * Dispatched once per loaded resource.\n         *\n         * The callback looks like {@link Loader.OnLoadSignal}.\n         *\n         * @member {Signal<Loader.OnLoadSignal>}\n         */\n        this.onLoad = new Signal();\n\n        /**\n         * Dispatched when the loader begins to process the queue.\n         *\n         * The callback looks like {@link Loader.OnStartSignal}.\n         *\n         * @member {Signal<Loader.OnStartSignal>}\n         */\n        this.onStart = new Signal();\n\n        /**\n         * Dispatched when the queued resources all load.\n         *\n         * The callback looks like {@link Loader.OnCompleteSignal}.\n         *\n         * @member {Signal<Loader.OnCompleteSignal>}\n         */\n        this.onComplete = new Signal();\n\n        // Add default before middleware\n        for (let i = 0; i < Loader._defaultBeforeMiddleware.length; ++i) {\n            this.pre(Loader._defaultBeforeMiddleware[i]);\n        }\n\n        // Add default after middleware\n        for (let i = 0; i < Loader._defaultAfterMiddleware.length; ++i) {\n            this.use(Loader._defaultAfterMiddleware[i]);\n        }\n    }\n\n    /**\n     * When the progress changes the loader and resource are disaptched.\n     *\n     * @memberof Loader\n     * @callback OnProgressSignal\n     * @param {Loader} loader - The loader the progress is advancing on.\n     * @param {Resource} resource - The resource that has completed or failed to cause the progress to advance.\n     */\n\n    /**\n     * When an error occurrs the loader and resource are disaptched.\n     *\n     * @memberof Loader\n     * @callback OnErrorSignal\n     * @param {Loader} loader - The loader the error happened in.\n     * @param {Resource} resource - The resource that caused the error.\n     */\n\n    /**\n     * When a load completes the loader and resource are disaptched.\n     *\n     * @memberof Loader\n     * @callback OnLoadSignal\n     * @param {Loader} loader - The loader that laoded the resource.\n     * @param {Resource} resource - The resource that has completed loading.\n     */\n\n    /**\n     * When the loader starts loading resources it dispatches this callback.\n     *\n     * @memberof Loader\n     * @callback OnStartSignal\n     * @param {Loader} loader - The loader that has started loading resources.\n     */\n\n    /**\n     * When the loader completes loading resources it dispatches this callback.\n     *\n     * @memberof Loader\n     * @callback OnCompleteSignal\n     * @param {Loader} loader - The loader that has finished loading resources.\n     */\n\n    /**\n     * Options for a call to `.add()`.\n     *\n     * @see Loader#add\n     *\n     * @typedef {object} IAddOptions\n     * @property {string} [name] - The name of the resource to load, if not passed the url is used.\n     * @property {string} [key] - Alias for `name`.\n     * @property {string} [url] - The url for this resource, relative to the baseUrl of this loader.\n     * @property {string|boolean} [crossOrigin] - Is this request cross-origin? Default is to\n     *      determine automatically.\n     * @property {number} [timeout=0] - A timeout in milliseconds for the load. If the load takes\n     *      longer than this time it is cancelled and the load is considered a failure. If this value is\n     *      set to `0` then there is no explicit timeout.\n     * @property {Resource.LOAD_TYPE} [loadType=Resource.LOAD_TYPE.XHR] - How should this resource\n     *      be loaded?\n     * @property {Resource.XHR_RESPONSE_TYPE} [xhrType=Resource.XHR_RESPONSE_TYPE.DEFAULT] - How\n     *      should the data being loaded be interpreted when using XHR?\n     * @property {Resource.OnCompleteSignal} [onComplete] - Callback to add an an onComplete signal istener.\n     * @property {Resource.OnCompleteSignal} [callback] - Alias for `onComplete`.\n     * @property {Resource.IMetadata} [metadata] - Extra configuration for middleware and the Resource object.\n     */\n\n    /* eslint-disable require-jsdoc,valid-jsdoc */\n    /**\n     * Adds a resource (or multiple resources) to the loader queue.\n     *\n     * This function can take a wide variety of different parameters. The only thing that is always\n     * required the url to load. All the following will work:\n     *\n     * ```js\n     * loader\n     *     // normal param syntax\n     *     .add('key', 'http://...', function () {})\n     *     .add('http://...', function () {})\n     *     .add('http://...')\n     *\n     *     // object syntax\n     *     .add({\n     *         name: 'key2',\n     *         url: 'http://...'\n     *     }, function () {})\n     *     .add({\n     *         url: 'http://...'\n     *     }, function () {})\n     *     .add({\n     *         name: 'key3',\n     *         url: 'http://...'\n     *         onComplete: function () {}\n     *     })\n     *     .add({\n     *         url: 'https://...',\n     *         onComplete: function () {},\n     *         crossOrigin: true\n     *     })\n     *\n     *     // you can also pass an array of objects or urls or both\n     *     .add([\n     *         { name: 'key4', url: 'http://...', onComplete: function () {} },\n     *         { url: 'http://...', onComplete: function () {} },\n     *         'http://...'\n     *     ])\n     *\n     *     // and you can use both params and options\n     *     .add('key', 'http://...', { crossOrigin: true }, function () {})\n     *     .add('http://...', { crossOrigin: true }, function () {});\n     * ```\n     *\n     * @function\n     * @variation 1\n     * @param {string} name - The name of the resource to load.\n     * @param {string} url - The url for this resource, relative to the baseUrl of this loader.\n     * @param {Resource.OnCompleteSignal} [callback] - Function to call when this specific resource completes loading.\n     * @return {this} Returns itself.\n     *//**\n     * @function\n     * @variation 2\n     * @param {string} name - The name of the resource to load.\n     * @param {string} url - The url for this resource, relative to the baseUrl of this loader.\n     * @param {IAddOptions} [options] - The options for the load.\n     * @param {Resource.OnCompleteSignal} [callback] - Function to call when this specific resource completes loading.\n     * @return {this} Returns itself.\n     *//**\n     * @function\n     * @variation 3\n     * @param {string} url - The url for this resource, relative to the baseUrl of this loader.\n     * @param {Resource.OnCompleteSignal} [callback] - Function to call when this specific resource completes loading.\n     * @return {this} Returns itself.\n     *//**\n     * @function\n     * @variation 4\n     * @param {string} url - The url for this resource, relative to the baseUrl of this loader.\n     * @param {IAddOptions} [options] - The options for the load.\n     * @param {Resource.OnCompleteSignal} [callback] - Function to call when this specific resource completes loading.\n     * @return {this} Returns itself.\n     *//**\n     * @function\n     * @variation 5\n     * @param {IAddOptions} options - The options for the load. This object must contain a `url` property.\n     * @param {Resource.OnCompleteSignal} [callback] - Function to call when this specific resource completes loading.\n     * @return {this} Returns itself.\n     *//**\n     * @function\n     * @variation 6\n     * @param {Array<IAddOptions|string>} resources - An array of resources to load, where each is\n     *      either an object with the options or a string url. If you pass an object, it must contain a `url` property.\n     * @param {Resource.OnCompleteSignal} [callback] - Function to call when this specific resource completes loading.\n     * @return {this} Returns itself.\n     */\n    add(name, url, options, cb) {\n        // special case of an array of objects or urls\n        if (Array.isArray(name)) {\n            for (let i = 0; i < name.length; ++i) {\n                this.add(name[i]);\n            }\n\n            return this;\n        }\n\n        // if an object is passed instead of params\n        if (typeof name === 'object') {\n            cb = url || name.callback || name.onComplete;\n            options = name;\n            url = name.url;\n            name = name.name || name.key || name.url;\n        }\n\n        // case where no name is passed shift all args over by one.\n        if (typeof url !== 'string') {\n            cb = options;\n            options = url;\n            url = name;\n        }\n\n        // now that we shifted make sure we have a proper url.\n        if (typeof url !== 'string') {\n            throw new Error('No url passed to add resource to loader.');\n        }\n\n        // options are optional so people might pass a function and no options\n        if (typeof options === 'function') {\n            cb = options;\n            options = null;\n        }\n\n        // if loading already you can only add resources that have a parent.\n        if (this.loading && (!options || !options.parentResource)) {\n            throw new Error('Cannot add resources while the loader is running.');\n        }\n\n        // check if resource already exists.\n        if (this.resources[name]) {\n            throw new Error(`Resource named \"${name}\" already exists.`);\n        }\n\n        // add base url if this isn't an absolute url\n        url = this._prepareUrl(url);\n\n        // create the store the resource\n        this.resources[name] = new Resource(name, url, options);\n\n        if (typeof cb === 'function') {\n            this.resources[name].onAfterMiddleware.once(cb);\n        }\n\n        // if actively loading, make sure to adjust progress chunks for that parent and its children\n        if (this.loading) {\n            const parent = options.parentResource;\n            const incompleteChildren = [];\n\n            for (let i = 0; i < parent.children.length; ++i) {\n                if (!parent.children[i].isComplete) {\n                    incompleteChildren.push(parent.children[i]);\n                }\n            }\n\n            const fullChunk = parent.progressChunk * (incompleteChildren.length + 1); // +1 for parent\n            const eachChunk = fullChunk / (incompleteChildren.length + 2); // +2 for parent & new child\n\n            parent.children.push(this.resources[name]);\n            parent.progressChunk = eachChunk;\n\n            for (let i = 0; i < incompleteChildren.length; ++i) {\n                incompleteChildren[i].progressChunk = eachChunk;\n            }\n\n            this.resources[name].progressChunk = eachChunk;\n        }\n\n        // add the resource to the queue\n        this._queue.push(this.resources[name]);\n\n        return this;\n    }\n    /* eslint-enable require-jsdoc,valid-jsdoc */\n\n    /**\n     * Sets up a middleware function that will run *before* the\n     * resource is loaded.\n     *\n     * @param {function} fn - The middleware function to register.\n     * @return {this} Returns itself.\n     */\n    pre(fn) {\n        this._beforeMiddleware.push(fn);\n\n        return this;\n    }\n\n    /**\n     * Sets up a middleware function that will run *after* the\n     * resource is loaded.\n     *\n     * @param {function} fn - The middleware function to register.\n     * @return {this} Returns itself.\n     */\n    use(fn) {\n        this._afterMiddleware.push(fn);\n\n        return this;\n    }\n\n    /**\n     * Resets the queue of the loader to prepare for a new load.\n     *\n     * @return {this} Returns itself.\n     */\n    reset() {\n        this.progress = 0;\n        this.loading = false;\n\n        this._queue.kill();\n        this._queue.pause();\n\n        // abort all resource loads\n        for (const k in this.resources) {\n            const res = this.resources[k];\n\n            if (res._onLoadBinding) {\n                res._onLoadBinding.detach();\n            }\n\n            if (res.isLoading) {\n                res.abort();\n            }\n        }\n\n        this.resources = {};\n\n        return this;\n    }\n\n    /**\n     * Starts loading the queued resources.\n     *\n     * @param {function} [cb] - Optional callback that will be bound to the `complete` event.\n     * @return {this} Returns itself.\n     */\n    load(cb) {\n        // register complete callback if they pass one\n        if (typeof cb === 'function') {\n            this.onComplete.once(cb);\n        }\n\n        // if the queue has already started we are done here\n        if (this.loading) {\n            return this;\n        }\n\n        if (this._queue.idle()) {\n            this._onStart();\n            this._onComplete();\n        }\n        else {\n            // distribute progress chunks\n            const numTasks = this._queue._tasks.length;\n            const chunk = MAX_PROGRESS / numTasks;\n\n            for (let i = 0; i < this._queue._tasks.length; ++i) {\n                this._queue._tasks[i].data.progressChunk = chunk;\n            }\n\n            // notify we are starting\n            this._onStart();\n\n            // start loading\n            this._queue.resume();\n        }\n\n        return this;\n    }\n\n    /**\n     * The number of resources to load concurrently.\n     *\n     * @member {number}\n     * @default 10\n     */\n    get concurrency() {\n        return this._queue.concurrency;\n    }\n    // eslint-disable-next-line require-jsdoc\n    set concurrency(concurrency) {\n        this._queue.concurrency = concurrency;\n    }\n\n    /**\n     * Prepares a url for usage based on the configuration of this object\n     *\n     * @private\n     * @param {string} url - The url to prepare.\n     * @return {string} The prepared url.\n     */\n    _prepareUrl(url) {\n        const parsedUrl = parseUri(url, { strictMode: true });\n        let result;\n\n        // absolute url, just use it as is.\n        if (parsedUrl.protocol || !parsedUrl.path || url.indexOf('//') === 0) {\n            result = url;\n        }\n        // if baseUrl doesn't end in slash and url doesn't start with slash, then add a slash inbetween\n        else if (this.baseUrl.length\n            && this.baseUrl.lastIndexOf('/') !== this.baseUrl.length - 1\n            && url.charAt(0) !== '/'\n        ) {\n            result = `${this.baseUrl}/${url}`;\n        }\n        else {\n            result = this.baseUrl + url;\n        }\n\n        // if we need to add a default querystring, there is a bit more work\n        if (this.defaultQueryString) {\n            const hash = rgxExtractUrlHash.exec(result)[0];\n\n            result = result.substr(0, result.length - hash.length);\n\n            if (result.indexOf('?') !== -1) {\n                result += `&${this.defaultQueryString}`;\n            }\n            else {\n                result += `?${this.defaultQueryString}`;\n            }\n\n            result += hash;\n        }\n\n        return result;\n    }\n\n    /**\n     * Loads a single resource.\n     *\n     * @private\n     * @param {Resource} resource - The resource to load.\n     * @param {function} dequeue - The function to call when we need to dequeue this item.\n     */\n    _loadResource(resource, dequeue) {\n        resource._dequeue = dequeue;\n\n        // run before middleware\n        async.eachSeries(\n            this._beforeMiddleware,\n            (fn, next) => {\n                fn.call(this, resource, () => {\n                    // if the before middleware marks the resource as complete,\n                    // break and don't process any more before middleware\n                    next(resource.isComplete ? {} : null);\n                });\n            },\n            () => {\n                if (resource.isComplete) {\n                    this._onLoad(resource);\n                }\n                else {\n                    resource._onLoadBinding = resource.onComplete.once(this._onLoad, this);\n                    resource.load();\n                }\n            },\n            true\n        );\n    }\n\n    /**\n     * Called once loading has started.\n     *\n     * @private\n     */\n    _onStart() {\n        this.progress = 0;\n        this.loading = true;\n        this.onStart.dispatch(this);\n    }\n\n    /**\n     * Called once each resource has loaded.\n     *\n     * @private\n     */\n    _onComplete() {\n        this.progress = MAX_PROGRESS;\n        this.loading = false;\n        this.onComplete.dispatch(this, this.resources);\n    }\n\n    /**\n     * Called each time a resources is loaded.\n     *\n     * @private\n     * @param {Resource} resource - The resource that was loaded\n     */\n    _onLoad(resource) {\n        resource._onLoadBinding = null;\n\n        // remove this resource from the async queue, and add it to our list of resources that are being parsed\n        this._resourcesParsing.push(resource);\n        resource._dequeue();\n\n        // run all the after middleware for this resource\n        async.eachSeries(\n            this._afterMiddleware,\n            (fn, next) => {\n                fn.call(this, resource, next);\n            },\n            () => {\n                resource.onAfterMiddleware.dispatch(resource);\n\n                this.progress = Math.min(MAX_PROGRESS, this.progress + resource.progressChunk);\n                this.onProgress.dispatch(this, resource);\n\n                if (resource.error) {\n                    this.onError.dispatch(resource.error, this, resource);\n                }\n                else {\n                    this.onLoad.dispatch(this, resource);\n                }\n\n                this._resourcesParsing.splice(this._resourcesParsing.indexOf(resource), 1);\n\n                // do completion check\n                if (this._queue.idle() && this._resourcesParsing.length === 0) {\n                    this._onComplete();\n                }\n            },\n            true\n        );\n    }\n}\n\n/**\n * A default array of middleware to run before loading each resource.\n * Each of these middlewares are added to any new Loader instances when they are created.\n *\n * @private\n * @member {function[]}\n */\nLoader._defaultBeforeMiddleware = [];\n\n/**\n * A default array of middleware to run after loading each resource.\n * Each of these middlewares are added to any new Loader instances when they are created.\n *\n * @private\n * @member {function[]}\n */\nLoader._defaultAfterMiddleware = [];\n\n/**\n * Sets up a middleware function that will run *before* the\n * resource is loaded.\n *\n * @static\n * @param {function} fn - The middleware function to register.\n * @return {Loader} Returns itself.\n */\nLoader.pre = function LoaderPreStatic(fn) {\n    Loader._defaultBeforeMiddleware.push(fn);\n\n    return Loader;\n};\n\n/**\n * Sets up a middleware function that will run *after* the\n * resource is loaded.\n *\n * @static\n * @param {function} fn - The middleware function to register.\n * @return {Loader} Returns itself.\n */\nLoader.use = function LoaderUseStatic(fn) {\n    Loader._defaultAfterMiddleware.push(fn);\n\n    return Loader;\n};\n"},"lineCount":null}},"error":null,"hash":"073a5db69ebecc1d11934f16a80f95f0","cacheData":{"env":{}}}