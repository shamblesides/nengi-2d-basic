{"id":"87th","dependencies":[{"name":"C:\\Users\\benne\\np\\nengi-2d-basic\\package.json","includedInParent":true,"mtime":1557038832290},{"name":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\nengi\\package.json","includedInParent":true,"mtime":1556703465689},{"name":"../protocol/proxify","loc":{"line":1,"column":20},"parent":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\nengi\\core\\client\\Predictor.js","resolved":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\nengi\\core\\protocol\\proxify.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=i(require(\"../protocol/proxify\"));function i(t){return t&&t.__esModule?t:{default:t}}const e=1e-4,s=t=>t<1e-4&&t>-1e-4;class r{constructor(t,i){this.config=i,this.tick=t,this.entities=new Map}add(t,i,e){let s=this.entities.get(t);s||(s=new o(t,i,this.config),this.entities.set(t,s)),s.add(e)}}class o{constructor(t,i,e){this[e.ID_PROPERTY_NAME]=t,this.proxy=i,this.errors=[]}add(t){this.errors.push(t)}}class c{constructor(t,i,e,s,r,o){this[o.ID_PROPERTY_NAME]=t,this.prop=i,this.predictedValue=e,this.actualValue=s,this.deltaValue=r}}class n{constructor(t,i){this.config=i,this.tick=t,this.entityPredictions=new Map}add(t,i,e){let s=this.entityPredictions.get(t);s?(s.entity=i,s.props=e):(s=new a(t,i,e,this.config),this.entityPredictions.set(t,s))}}class a{constructor(t,i,e,s){this[s.ID_PROPERTY_NAME]=t,this.proxy=i,this.props=e}}class h{constructor(t){this.config=t,this.predictionFrames=new Map,this.latestTick=-1}cleanUp(t){this.predictionFrames.forEach(i=>{i.tick<t-50&&this.predictionFrames.delete(i.tick)})}addCustom(t,i,e){let s=this.predictionFrames.get(t);s||(s=new n(t,this.config),this.predictionFrames.set(t,s));let r=Object.assign({},i);s.add(i[this.config.ID_PROPERTY_NAME],r,e)}add(i,e,s){let r=this.predictionFrames.get(i);r||(r=new n(i,this.config),this.predictionFrames.set(i,r));let o=(0,t.default)(e,e.protocol);r.add(e[this.config.ID_PROPERTY_NAME],o,s)}has(t,i,e){let s=this.predictionFrames.get(t);if(s){let t=s.entityPredictions.get(i);if(t)return-1!==t.props.indexOf(e)}return!1}getErrors(t){let i=new r(t.clientTick,this.config);if(t){let e=this.predictionFrames.get(t.clientTick);e&&e.entityPredictions.forEach(e=>{let r=e[this.config.ID_PROPERTY_NAME],o=t.entities.get(r);o&&e.props.forEach(t=>{let n=o[t],a=e.proxy[t],h=n-a;s(h)||i.add(r,e.proxy,new c(r,t,a,n,h,this.config))})})}return this.latestTick=t.clientTick,i}}var d=h;exports.default=d;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":0}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":13}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":20}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":35}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":43}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":56}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":57}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":64}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":68}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":76}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":89}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":131}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":140}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":142}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":145}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":152}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":155}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":157}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":168}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":170}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":171}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":179}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":3,"column":0},"generated":{"line":1,"column":182}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"EPSILON","original":{"line":3,"column":6},"generated":{"line":1,"column":188}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":3,"column":16},"generated":{"line":1,"column":190}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"closeEnough","original":{"line":5,"column":6},"generated":{"line":1,"column":195}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"value","original":{"line":5,"column":21},"generated":{"line":1,"column":197}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"value","original":{"line":6,"column":11},"generated":{"line":1,"column":200}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":3,"column":16},"generated":{"line":1,"column":202}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"value","original":{"line":6,"column":30},"generated":{"line":1,"column":208}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":3,"column":16},"generated":{"line":1,"column":211}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":9,"column":0},"generated":{"line":1,"column":216}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"PredictionErrorFrame","original":{"line":9,"column":6},"generated":{"line":1,"column":222}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"constructor","original":{"line":10,"column":4},"generated":{"line":1,"column":224}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":10,"column":16},"generated":{"line":1,"column":236}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":10,"column":22},"generated":{"line":1,"column":238}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":11,"column":13},"generated":{"line":1,"column":241}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":11,"column":13},"generated":{"line":1,"column":246}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":11,"column":22},"generated":{"line":1,"column":253}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":12,"column":13},"generated":{"line":1,"column":255}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":12,"column":13},"generated":{"line":1,"column":260}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":12,"column":20},"generated":{"line":1,"column":265}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entities","original":{"line":13,"column":13},"generated":{"line":1,"column":267}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entities","original":{"line":13,"column":13},"generated":{"line":1,"column":272}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":13,"column":24},"generated":{"line":1,"column":281}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Map","original":{"line":13,"column":28},"generated":{"line":1,"column":285}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"add","original":{"line":16,"column":4},"generated":{"line":1,"column":289}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":16,"column":8},"generated":{"line":1,"column":293}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":16,"column":13},"generated":{"line":1,"column":295}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionError","original":{"line":16,"column":21},"generated":{"line":1,"column":297}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPredictionError","original":{"line":17,"column":12},"generated":{"line":1,"column":300}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPredictionError","original":{"line":17,"column":12},"generated":{"line":1,"column":304}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":17,"column":36},"generated":{"line":1,"column":306}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entities","original":{"line":17,"column":41},"generated":{"line":1,"column":311}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"get","original":{"line":17,"column":50},"generated":{"line":1,"column":320}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":17,"column":54},"generated":{"line":1,"column":324}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPredictionError","original":{"line":18,"column":13},"generated":{"line":1,"column":327}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPredictionError","original":{"line":19,"column":12},"generated":{"line":1,"column":331}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":19,"column":36},"generated":{"line":1,"column":333}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"PredictionErrorEntity","original":{"line":19,"column":40},"generated":{"line":1,"column":337}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":19,"column":62},"generated":{"line":1,"column":339}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":19,"column":67},"generated":{"line":1,"column":341}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":19,"column":75},"generated":{"line":1,"column":343}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":19,"column":80},"generated":{"line":1,"column":348}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entities","original":{"line":20,"column":17},"generated":{"line":1,"column":356}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entities","original":{"line":20,"column":17},"generated":{"line":1,"column":361}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"set","original":{"line":20,"column":26},"generated":{"line":1,"column":370}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":20,"column":30},"generated":{"line":1,"column":374}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPredictionError","original":{"line":20,"column":35},"generated":{"line":1,"column":376}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPredictionError","original":{"line":22,"column":8},"generated":{"line":1,"column":380}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"add","original":{"line":22,"column":30},"generated":{"line":1,"column":382}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionError","original":{"line":22,"column":34},"generated":{"line":1,"column":386}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":26,"column":0},"generated":{"line":1,"column":390}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"PredictionErrorEntity","original":{"line":26,"column":6},"generated":{"line":1,"column":396}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"constructor","original":{"line":27,"column":4},"generated":{"line":1,"column":398}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":27,"column":16},"generated":{"line":1,"column":410}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":27,"column":21},"generated":{"line":1,"column":412}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":27,"column":29},"generated":{"line":1,"column":414}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":28,"column":13},"generated":{"line":1,"column":417}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":28,"column":13},"generated":{"line":1,"column":422}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"ID_PROPERTY_NAME","original":{"line":28,"column":20},"generated":{"line":1,"column":424}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":28,"column":40},"generated":{"line":1,"column":442}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"proxy","original":{"line":29,"column":13},"generated":{"line":1,"column":444}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"proxy","original":{"line":29,"column":13},"generated":{"line":1,"column":449}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":29,"column":21},"generated":{"line":1,"column":455}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"errors","original":{"line":30,"column":13},"generated":{"line":1,"column":457}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"errors","original":{"line":30,"column":13},"generated":{"line":1,"column":462}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":30,"column":22},"generated":{"line":1,"column":469}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"add","original":{"line":33,"column":4},"generated":{"line":1,"column":472}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionError","original":{"line":33,"column":8},"generated":{"line":1,"column":476}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"errors","original":{"line":34,"column":13},"generated":{"line":1,"column":479}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"errors","original":{"line":34,"column":13},"generated":{"line":1,"column":484}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"push","original":{"line":34,"column":20},"generated":{"line":1,"column":491}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionError","original":{"line":34,"column":25},"generated":{"line":1,"column":496}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":38,"column":0},"generated":{"line":1,"column":500}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"PredictionErrorProperty","original":{"line":38,"column":6},"generated":{"line":1,"column":506}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"constructor","original":{"line":39,"column":4},"generated":{"line":1,"column":508}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":39,"column":16},"generated":{"line":1,"column":520}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"prop","original":{"line":39,"column":21},"generated":{"line":1,"column":522}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictedValue","original":{"line":39,"column":27},"generated":{"line":1,"column":524}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"actualValue","original":{"line":39,"column":43},"generated":{"line":1,"column":526}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"deltaValue","original":{"line":39,"column":56},"generated":{"line":1,"column":528}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":39,"column":68},"generated":{"line":1,"column":530}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":40,"column":13},"generated":{"line":1,"column":533}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":40,"column":13},"generated":{"line":1,"column":538}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"ID_PROPERTY_NAME","original":{"line":40,"column":20},"generated":{"line":1,"column":540}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":40,"column":40},"generated":{"line":1,"column":558}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"prop","original":{"line":41,"column":13},"generated":{"line":1,"column":560}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"prop","original":{"line":41,"column":13},"generated":{"line":1,"column":565}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"prop","original":{"line":41,"column":20},"generated":{"line":1,"column":570}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictedValue","original":{"line":42,"column":13},"generated":{"line":1,"column":572}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictedValue","original":{"line":42,"column":13},"generated":{"line":1,"column":577}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictedValue","original":{"line":42,"column":30},"generated":{"line":1,"column":592}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"actualValue","original":{"line":43,"column":13},"generated":{"line":1,"column":594}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"actualValue","original":{"line":43,"column":13},"generated":{"line":1,"column":599}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"actualValue","original":{"line":43,"column":27},"generated":{"line":1,"column":611}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"deltaValue","original":{"line":44,"column":13},"generated":{"line":1,"column":613}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"deltaValue","original":{"line":44,"column":13},"generated":{"line":1,"column":618}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"deltaValue","original":{"line":44,"column":26},"generated":{"line":1,"column":629}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":48,"column":0},"generated":{"line":1,"column":632}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"PredictionFrame","original":{"line":48,"column":6},"generated":{"line":1,"column":638}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"constructor","original":{"line":49,"column":4},"generated":{"line":1,"column":640}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":49,"column":16},"generated":{"line":1,"column":652}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":49,"column":22},"generated":{"line":1,"column":654}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":50,"column":13},"generated":{"line":1,"column":657}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":50,"column":13},"generated":{"line":1,"column":662}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":50,"column":22},"generated":{"line":1,"column":669}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":51,"column":13},"generated":{"line":1,"column":671}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":51,"column":13},"generated":{"line":1,"column":676}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":51,"column":20},"generated":{"line":1,"column":681}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPredictions","original":{"line":52,"column":13},"generated":{"line":1,"column":683}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPredictions","original":{"line":52,"column":13},"generated":{"line":1,"column":688}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":52,"column":33},"generated":{"line":1,"column":706}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Map","original":{"line":52,"column":37},"generated":{"line":1,"column":710}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"add","original":{"line":55,"column":4},"generated":{"line":1,"column":714}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":55,"column":8},"generated":{"line":1,"column":718}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":55,"column":13},"generated":{"line":1,"column":720}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"props","original":{"line":55,"column":21},"generated":{"line":1,"column":722}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":56,"column":12},"generated":{"line":1,"column":725}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":56,"column":12},"generated":{"line":1,"column":729}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":56,"column":31},"generated":{"line":1,"column":731}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPredictions","original":{"line":56,"column":36},"generated":{"line":1,"column":736}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"get","original":{"line":56,"column":54},"generated":{"line":1,"column":754}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":56,"column":58},"generated":{"line":1,"column":758}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":57,"column":13},"generated":{"line":1,"column":761}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":61,"column":12},"generated":{"line":1,"column":764}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":61,"column":29},"generated":{"line":1,"column":766}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":61,"column":38},"generated":{"line":1,"column":773}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":62,"column":12},"generated":{"line":1,"column":775}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"props","original":{"line":62,"column":29},"generated":{"line":1,"column":777}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"props","original":{"line":62,"column":37},"generated":{"line":1,"column":783}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":58,"column":12},"generated":{"line":1,"column":787}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":58,"column":31},"generated":{"line":1,"column":789}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"EntityPrediction","original":{"line":58,"column":35},"generated":{"line":1,"column":793}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":58,"column":52},"generated":{"line":1,"column":795}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":58,"column":57},"generated":{"line":1,"column":797}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"props","original":{"line":58,"column":65},"generated":{"line":1,"column":799}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":58,"column":72},"generated":{"line":1,"column":801}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":58,"column":77},"generated":{"line":1,"column":806}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPredictions","original":{"line":59,"column":17},"generated":{"line":1,"column":814}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPredictions","original":{"line":59,"column":17},"generated":{"line":1,"column":819}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"set","original":{"line":59,"column":35},"generated":{"line":1,"column":837}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":59,"column":39},"generated":{"line":1,"column":841}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":59,"column":44},"generated":{"line":1,"column":843}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":67,"column":0},"generated":{"line":1,"column":848}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"EntityPrediction","original":{"line":67,"column":6},"generated":{"line":1,"column":854}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"constructor","original":{"line":68,"column":4},"generated":{"line":1,"column":856}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":68,"column":16},"generated":{"line":1,"column":868}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":68,"column":21},"generated":{"line":1,"column":870}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"props","original":{"line":68,"column":29},"generated":{"line":1,"column":872}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":68,"column":36},"generated":{"line":1,"column":874}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":69,"column":13},"generated":{"line":1,"column":877}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":69,"column":13},"generated":{"line":1,"column":882}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"ID_PROPERTY_NAME","original":{"line":69,"column":20},"generated":{"line":1,"column":884}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":69,"column":40},"generated":{"line":1,"column":902}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"proxy","original":{"line":70,"column":13},"generated":{"line":1,"column":904}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"proxy","original":{"line":70,"column":13},"generated":{"line":1,"column":909}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":70,"column":21},"generated":{"line":1,"column":915}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"props","original":{"line":71,"column":13},"generated":{"line":1,"column":917}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"props","original":{"line":71,"column":13},"generated":{"line":1,"column":922}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"props","original":{"line":71,"column":21},"generated":{"line":1,"column":928}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":75,"column":0},"generated":{"line":1,"column":931}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":75,"column":6},"generated":{"line":1,"column":937}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"constructor","original":{"line":76,"column":4},"generated":{"line":1,"column":939}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":76,"column":16},"generated":{"line":1,"column":951}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":77,"column":13},"generated":{"line":1,"column":954}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":77,"column":13},"generated":{"line":1,"column":959}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":77,"column":22},"generated":{"line":1,"column":966}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrames","original":{"line":78,"column":13},"generated":{"line":1,"column":968}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrames","original":{"line":78,"column":13},"generated":{"line":1,"column":973}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":78,"column":32},"generated":{"line":1,"column":990}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Map","original":{"line":78,"column":36},"generated":{"line":1,"column":994}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"latestTick","original":{"line":79,"column":13},"generated":{"line":1,"column":998}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"latestTick","original":{"line":79,"column":13},"generated":{"line":1,"column":1003}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":79,"column":27},"generated":{"line":1,"column":1015}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"cleanUp","original":{"line":82,"column":4},"generated":{"line":1,"column":1017}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":82,"column":12},"generated":{"line":1,"column":1025}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrames","original":{"line":84,"column":13},"generated":{"line":1,"column":1028}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrames","original":{"line":84,"column":13},"generated":{"line":1,"column":1033}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"forEach","original":{"line":84,"column":30},"generated":{"line":1,"column":1050}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":84,"column":38},"generated":{"line":1,"column":1058}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":87,"column":16},"generated":{"line":1,"column":1062}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":87,"column":32},"generated":{"line":1,"column":1064}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":87,"column":39},"generated":{"line":1,"column":1069}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":87,"column":46},"generated":{"line":1,"column":1071}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrames","original":{"line":89,"column":21},"generated":{"line":1,"column":1075}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrames","original":{"line":89,"column":21},"generated":{"line":1,"column":1080}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"delete","original":{"line":89,"column":38},"generated":{"line":1,"column":1097}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":89,"column":45},"generated":{"line":1,"column":1104}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":89,"column":61},"generated":{"line":1,"column":1106}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"addCustom","original":{"line":97,"column":4},"generated":{"line":1,"column":1114}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":97,"column":14},"generated":{"line":1,"column":1124}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":97,"column":20},"generated":{"line":1,"column":1126}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"props","original":{"line":97,"column":28},"generated":{"line":1,"column":1128}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":98,"column":12},"generated":{"line":1,"column":1131}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":98,"column":12},"generated":{"line":1,"column":1135}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":98,"column":30},"generated":{"line":1,"column":1137}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrames","original":{"line":98,"column":35},"generated":{"line":1,"column":1142}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"get","original":{"line":98,"column":52},"generated":{"line":1,"column":1159}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":98,"column":56},"generated":{"line":1,"column":1163}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":99,"column":13},"generated":{"line":1,"column":1166}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":100,"column":12},"generated":{"line":1,"column":1170}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":100,"column":30},"generated":{"line":1,"column":1172}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"PredictionFrame","original":{"line":100,"column":34},"generated":{"line":1,"column":1176}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":100,"column":50},"generated":{"line":1,"column":1178}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":100,"column":56},"generated":{"line":1,"column":1180}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":100,"column":61},"generated":{"line":1,"column":1185}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrames","original":{"line":101,"column":17},"generated":{"line":1,"column":1193}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrames","original":{"line":101,"column":17},"generated":{"line":1,"column":1198}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"set","original":{"line":101,"column":34},"generated":{"line":1,"column":1215}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":101,"column":38},"generated":{"line":1,"column":1219}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":101,"column":44},"generated":{"line":1,"column":1221}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"proxy","original":{"line":103,"column":12},"generated":{"line":1,"column":1225}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"proxy","original":{"line":103,"column":12},"generated":{"line":1,"column":1229}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Object","original":{"line":103,"column":20},"generated":{"line":1,"column":1231}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"assign","original":{"line":103,"column":27},"generated":{"line":1,"column":1238}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":103,"column":34},"generated":{"line":1,"column":1245}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":103,"column":38},"generated":{"line":1,"column":1248}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":105,"column":8},"generated":{"line":1,"column":1251}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"add","original":{"line":105,"column":24},"generated":{"line":1,"column":1253}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":105,"column":28},"generated":{"line":1,"column":1257}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":105,"column":35},"generated":{"line":1,"column":1259}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":105,"column":40},"generated":{"line":1,"column":1264}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"ID_PROPERTY_NAME","original":{"line":105,"column":47},"generated":{"line":1,"column":1271}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"proxy","original":{"line":105,"column":66},"generated":{"line":1,"column":1289}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"props","original":{"line":105,"column":73},"generated":{"line":1,"column":1291}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"add","original":{"line":108,"column":4},"generated":{"line":1,"column":1294}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":108,"column":8},"generated":{"line":1,"column":1298}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":108,"column":14},"generated":{"line":1,"column":1300}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"props","original":{"line":108,"column":22},"generated":{"line":1,"column":1302}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":109,"column":12},"generated":{"line":1,"column":1305}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":109,"column":12},"generated":{"line":1,"column":1309}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":109,"column":30},"generated":{"line":1,"column":1311}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrames","original":{"line":109,"column":35},"generated":{"line":1,"column":1316}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"get","original":{"line":109,"column":52},"generated":{"line":1,"column":1333}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":109,"column":56},"generated":{"line":1,"column":1337}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":110,"column":13},"generated":{"line":1,"column":1340}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":111,"column":12},"generated":{"line":1,"column":1344}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":111,"column":30},"generated":{"line":1,"column":1346}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"PredictionFrame","original":{"line":111,"column":34},"generated":{"line":1,"column":1350}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":111,"column":50},"generated":{"line":1,"column":1352}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":111,"column":56},"generated":{"line":1,"column":1354}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":111,"column":61},"generated":{"line":1,"column":1359}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrames","original":{"line":112,"column":17},"generated":{"line":1,"column":1367}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrames","original":{"line":112,"column":17},"generated":{"line":1,"column":1372}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"set","original":{"line":112,"column":34},"generated":{"line":1,"column":1389}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":112,"column":38},"generated":{"line":1,"column":1393}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":112,"column":44},"generated":{"line":1,"column":1395}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"proxy","original":{"line":114,"column":12},"generated":{"line":1,"column":1399}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"proxy","original":{"line":114,"column":12},"generated":{"line":1,"column":1403}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":114,"column":20},"generated":{"line":1,"column":1406}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":114,"column":28},"generated":{"line":1,"column":1408}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":114,"column":28},"generated":{"line":1,"column":1410}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":114,"column":28},"generated":{"line":1,"column":1419}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":114,"column":36},"generated":{"line":1,"column":1421}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"protocol","original":{"line":114,"column":43},"generated":{"line":1,"column":1423}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":116,"column":8},"generated":{"line":1,"column":1433}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"add","original":{"line":116,"column":24},"generated":{"line":1,"column":1435}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entity","original":{"line":116,"column":28},"generated":{"line":1,"column":1439}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":116,"column":35},"generated":{"line":1,"column":1441}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":116,"column":40},"generated":{"line":1,"column":1446}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"ID_PROPERTY_NAME","original":{"line":116,"column":47},"generated":{"line":1,"column":1453}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"proxy","original":{"line":116,"column":66},"generated":{"line":1,"column":1471}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"props","original":{"line":116,"column":73},"generated":{"line":1,"column":1473}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"has","original":{"line":119,"column":4},"generated":{"line":1,"column":1476}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":119,"column":8},"generated":{"line":1,"column":1480}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":119,"column":14},"generated":{"line":1,"column":1482}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"prop","original":{"line":119,"column":19},"generated":{"line":1,"column":1484}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":120,"column":12},"generated":{"line":1,"column":1487}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":120,"column":12},"generated":{"line":1,"column":1491}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":120,"column":30},"generated":{"line":1,"column":1493}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrames","original":{"line":120,"column":35},"generated":{"line":1,"column":1498}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"get","original":{"line":120,"column":52},"generated":{"line":1,"column":1515}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"tick","original":{"line":120,"column":56},"generated":{"line":1,"column":1519}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":121,"column":12},"generated":{"line":1,"column":1522}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":121,"column":12},"generated":{"line":1,"column":1525}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":121,"column":29},"generated":{"line":1,"column":1527}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":122,"column":16},"generated":{"line":1,"column":1528}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":122,"column":16},"generated":{"line":1,"column":1532}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":122,"column":35},"generated":{"line":1,"column":1534}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPredictions","original":{"line":122,"column":51},"generated":{"line":1,"column":1536}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"get","original":{"line":122,"column":69},"generated":{"line":1,"column":1554}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":122,"column":73},"generated":{"line":1,"column":1558}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":123,"column":16},"generated":{"line":1,"column":1561}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":123,"column":16},"generated":{"line":1,"column":1564}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":125,"column":23},"generated":{"line":1,"column":1566}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":125,"column":65},"generated":{"line":1,"column":1573}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":125,"column":23},"generated":{"line":1,"column":1577}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"props","original":{"line":125,"column":40},"generated":{"line":1,"column":1579}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"indexOf","original":{"line":125,"column":46},"generated":{"line":1,"column":1585}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"prop","original":{"line":125,"column":54},"generated":{"line":1,"column":1593}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":128,"column":15},"generated":{"line":1,"column":1596}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":128,"column":15},"generated":{"line":1,"column":1603}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"getErrors","original":{"line":131,"column":4},"generated":{"line":1,"column":1605}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"worldState","original":{"line":131,"column":14},"generated":{"line":1,"column":1615}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionErrorFrame","original":{"line":132,"column":12},"generated":{"line":1,"column":1618}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionErrorFrame","original":{"line":132,"column":12},"generated":{"line":1,"column":1622}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":132,"column":35},"generated":{"line":1,"column":1624}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"PredictionErrorFrame","original":{"line":132,"column":39},"generated":{"line":1,"column":1628}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"worldState","original":{"line":132,"column":60},"generated":{"line":1,"column":1630}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"clientTick","original":{"line":132,"column":71},"generated":{"line":1,"column":1632}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":132,"column":83},"generated":{"line":1,"column":1643}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":132,"column":88},"generated":{"line":1,"column":1648}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"worldState","original":{"line":133,"column":12},"generated":{"line":1,"column":1656}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"worldState","original":{"line":133,"column":12},"generated":{"line":1,"column":1659}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":133,"column":24},"generated":{"line":1,"column":1661}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":135,"column":16},"generated":{"line":1,"column":1662}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":135,"column":16},"generated":{"line":1,"column":1666}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":135,"column":34},"generated":{"line":1,"column":1668}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrames","original":{"line":135,"column":39},"generated":{"line":1,"column":1673}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"get","original":{"line":135,"column":56},"generated":{"line":1,"column":1690}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"worldState","original":{"line":135,"column":60},"generated":{"line":1,"column":1694}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"clientTick","original":{"line":135,"column":71},"generated":{"line":1,"column":1696}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":137,"column":16},"generated":{"line":1,"column":1708}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionFrame","original":{"line":138,"column":16},"generated":{"line":1,"column":1711}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPredictions","original":{"line":138,"column":32},"generated":{"line":1,"column":1713}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"forEach","original":{"line":138,"column":50},"generated":{"line":1,"column":1731}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":138,"column":58},"generated":{"line":1,"column":1739}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":140,"column":24},"generated":{"line":1,"column":1743}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":140,"column":24},"generated":{"line":1,"column":1747}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":140,"column":30},"generated":{"line":1,"column":1749}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":140,"column":47},"generated":{"line":1,"column":1751}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":140,"column":52},"generated":{"line":1,"column":1756}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"ID_PROPERTY_NAME","original":{"line":140,"column":59},"generated":{"line":1,"column":1763}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"authoritative","original":{"line":141,"column":24},"generated":{"line":1,"column":1781}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"worldState","original":{"line":141,"column":40},"generated":{"line":1,"column":1783}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entities","original":{"line":141,"column":51},"generated":{"line":1,"column":1785}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"get","original":{"line":141,"column":60},"generated":{"line":1,"column":1794}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":141,"column":64},"generated":{"line":1,"column":1798}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"authoritative","original":{"line":142,"column":24},"generated":{"line":1,"column":1801}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":143,"column":24},"generated":{"line":1,"column":1804}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"props","original":{"line":143,"column":41},"generated":{"line":1,"column":1806}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"forEach","original":{"line":143,"column":47},"generated":{"line":1,"column":1812}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"prop","original":{"line":143,"column":55},"generated":{"line":1,"column":1820}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"authValue","original":{"line":145,"column":32},"generated":{"line":1,"column":1824}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"authValue","original":{"line":145,"column":32},"generated":{"line":1,"column":1828}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"authoritative","original":{"line":145,"column":44},"generated":{"line":1,"column":1830}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"prop","original":{"line":145,"column":58},"generated":{"line":1,"column":1832}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predValue","original":{"line":146,"column":32},"generated":{"line":1,"column":1835}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":146,"column":44},"generated":{"line":1,"column":1837}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"proxy","original":{"line":146,"column":61},"generated":{"line":1,"column":1839}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"prop","original":{"line":146,"column":67},"generated":{"line":1,"column":1845}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"diff","original":{"line":147,"column":32},"generated":{"line":1,"column":1848}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"authValue","original":{"line":147,"column":39},"generated":{"line":1,"column":1850}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predValue","original":{"line":147,"column":51},"generated":{"line":1,"column":1852}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"closeEnough","original":{"line":149,"column":33},"generated":{"line":1,"column":1854}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"diff","original":{"line":149,"column":45},"generated":{"line":1,"column":1856}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionErrorFrame","original":{"line":150,"column":32},"generated":{"line":1,"column":1860}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"add","original":{"line":150,"column":53},"generated":{"line":1,"column":1862}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":151,"column":36},"generated":{"line":1,"column":1866}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"entityPrediction","original":{"line":152,"column":36},"generated":{"line":1,"column":1868}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"proxy","original":{"line":152,"column":53},"generated":{"line":1,"column":1870}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":153,"column":36},"generated":{"line":1,"column":1876}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"PredictionErrorProperty","original":{"line":153,"column":40},"generated":{"line":1,"column":1880}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"nid","original":{"line":154,"column":40},"generated":{"line":1,"column":1882}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"prop","original":{"line":155,"column":40},"generated":{"line":1,"column":1884}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predValue","original":{"line":156,"column":40},"generated":{"line":1,"column":1886}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"authValue","original":{"line":157,"column":40},"generated":{"line":1,"column":1888}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"diff","original":{"line":158,"column":40},"generated":{"line":1,"column":1890}},{"source":"../node_modules/nengi/core/client/Predictor.js","original":{"line":159,"column":40},"generated":{"line":1,"column":1892}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"config","original":{"line":159,"column":45},"generated":{"line":1,"column":1897}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionErrorFrame","original":{"line":169,"column":15},"generated":{"line":1,"column":1910}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"latestTick","original":{"line":168,"column":13},"generated":{"line":1,"column":1917}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"latestTick","original":{"line":168,"column":13},"generated":{"line":1,"column":1922}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"worldState","original":{"line":168,"column":26},"generated":{"line":1,"column":1933}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"clientTick","original":{"line":168,"column":37},"generated":{"line":1,"column":1935}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"predictionErrorFrame","original":{"line":169,"column":15},"generated":{"line":1,"column":1946}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":1949}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":1953}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":1955}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":1957}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":1965}},{"source":"../node_modules/nengi/core/client/Predictor.js","name":"Predictor","original":{"line":173,"column":15},"generated":{"line":1,"column":1973}}],"sources":{"../node_modules/nengi/core/client/Predictor.js":"import proxify from '../protocol/proxify';\r\n\r\nconst EPSILON = 0.0001\r\n\r\nconst closeEnough = (value) => {\r\n    return value < EPSILON && value > -EPSILON\r\n}\r\n\r\nclass PredictionErrorFrame {\r\n    constructor(tick, config) {\r\n        this.config = config\r\n        this.tick = tick\r\n        this.entities = new Map()\r\n    }\r\n\r\n    add(nid, entity, predictionError) {\r\n        let entityPredictionError = this.entities.get(nid)\r\n        if (!entityPredictionError) {\r\n            entityPredictionError = new PredictionErrorEntity(nid, entity, this.config)\r\n            this.entities.set(nid, entityPredictionError)\r\n        }\r\n        entityPredictionError.add(predictionError)\r\n    }\r\n}\r\n\r\nclass PredictionErrorEntity {\r\n    constructor(nid, entity, config) {\r\n        this[config.ID_PROPERTY_NAME] = nid\r\n        this.proxy = entity\r\n        this.errors = []\r\n    }\r\n\r\n    add(predictionError) {\r\n        this.errors.push(predictionError)\r\n    }\r\n}\r\n\r\nclass PredictionErrorProperty {\r\n    constructor(nid, prop, predictedValue, actualValue, deltaValue, config) {\r\n        this[config.ID_PROPERTY_NAME] = nid\r\n        this.prop = prop\r\n        this.predictedValue = predictedValue\r\n        this.actualValue = actualValue\r\n        this.deltaValue = deltaValue\r\n    }\r\n}\r\n\r\nclass PredictionFrame {\r\n    constructor(tick, config) {\r\n        this.config = config\r\n        this.tick = tick\r\n        this.entityPredictions = new Map()\r\n    }\r\n\r\n    add(nid, entity, props) {\r\n        let entityPrediction = this.entityPredictions.get(nid)\r\n        if (!entityPrediction) {\r\n            entityPrediction = new EntityPrediction(nid, entity, props, this.config)\r\n            this.entityPredictions.set(nid, entityPrediction)\r\n        } else {\r\n            entityPrediction.entity = entity\r\n            entityPrediction.props = props\r\n        }\r\n    }\r\n}\r\n\r\nclass EntityPrediction {\r\n    constructor(nid, entity, props, config) {\r\n        this[config.ID_PROPERTY_NAME] = nid\r\n        this.proxy = entity\r\n        this.props = props\r\n    }\r\n}\r\n\r\nclass Predictor {\r\n    constructor(config) {\r\n        this.config = config\r\n        this.predictionFrames = new Map()\r\n        this.latestTick = -1\r\n    }\r\n\r\n    cleanUp(tick) {\r\n       // let str = ''\r\n        this.predictionFrames.forEach(predictionFrame => {\r\n            //str += predictionFrame.tick + ' '\r\n            //console.log(typeof tick, typeof predictionFrame.tick)\r\n            if (predictionFrame.tick < tick - 50) {\r\n                //console.log('delete a prediction frame b/c its old')\r\n                this.predictionFrames.delete(predictionFrame.tick)\r\n            }\r\n        })\r\n\r\n        \r\n        //console.log(str)\r\n    }\r\n\r\n    addCustom(tick, entity, props) {\r\n        let predictionFrame = this.predictionFrames.get(tick)\r\n        if (!predictionFrame) {\r\n            predictionFrame = new PredictionFrame(tick, this.config)\r\n            this.predictionFrames.set(tick, predictionFrame)\r\n        }\r\n        let proxy = Object.assign({}, entity)\r\n        //console.log('custom prediction registered', proxy)\r\n        predictionFrame.add(entity[this.config.ID_PROPERTY_NAME], proxy, props)\r\n    }\r\n\r\n    add(tick, entity, props) {\r\n        let predictionFrame = this.predictionFrames.get(tick)\r\n        if (!predictionFrame) {\r\n            predictionFrame = new PredictionFrame(tick, this.config)\r\n            this.predictionFrames.set(tick, predictionFrame)\r\n        }\r\n        let proxy = proxify(entity, entity.protocol)\r\n        //console.log('auto prediction registered', proxy)\r\n        predictionFrame.add(entity[this.config.ID_PROPERTY_NAME], proxy, props)\r\n    }\r\n\r\n    has(tick, nid, prop) {\r\n        let predictionFrame = this.predictionFrames.get(tick)\r\n        if (predictionFrame) {\r\n            let entityPrediction = predictionFrame.entityPredictions.get(nid)\r\n            if (entityPrediction) {\r\n                //console.log('prediction has', prop, entityPrediction.props.indexOf(prop !== -1))\r\n                return entityPrediction.props.indexOf(prop) !== -1\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n    getErrors(worldState) {\r\n        let predictionErrorFrame = new PredictionErrorFrame(worldState.clientTick, this.config)\r\n        if (worldState) {\r\n            // predictions for this frame\r\n            let predictionFrame = this.predictionFrames.get(worldState.clientTick)\r\n\r\n            if (predictionFrame) {\r\n                predictionFrame.entityPredictions.forEach(entityPrediction => {\r\n                    // predictions for this entity\r\n                    let nid = entityPrediction[this.config.ID_PROPERTY_NAME]\r\n                    let authoritative = worldState.entities.get(nid)\r\n                    if (authoritative) {\r\n                        entityPrediction.props.forEach(prop => {\r\n                            // evaluate a specific prediction\r\n                            let authValue = authoritative[prop]\r\n                            let predValue = entityPrediction.proxy[prop]\r\n                            let diff = authValue - predValue\r\n\r\n                            if (!closeEnough(diff)) {\r\n                                predictionErrorFrame.add(\r\n                                    nid, \r\n                                    entityPrediction.proxy,\r\n                                    new PredictionErrorProperty(\r\n                                        nid,\r\n                                        prop,\r\n                                        predValue,\r\n                                        authValue,\r\n                                        diff,\r\n                                        this.config\r\n                                    )\r\n                                )\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        this.latestTick = worldState.clientTick\r\n        return predictionErrorFrame\r\n    }\r\n}\r\n\r\nexport default Predictor;"},"lineCount":null}},"error":null,"hash":"18c207431eed198ed130098cca6b8ada","cacheData":{"env":{}}}