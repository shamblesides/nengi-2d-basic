{"id":"UAZh","dependencies":[{"name":"C:\\Users\\benne\\np\\nengi-2d-basic\\package.json","includedInParent":true,"mtime":1557038832290},{"name":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\nengi\\package.json","includedInParent":true,"mtime":1556703465689},{"name":"../../external/EDictionary","loc":{"line":1,"column":24},"parent":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\nengi\\core\\client\\WorldState.js","resolved":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\nengi\\external\\EDictionary.js"},{"name":"../protocol/copyProxy","loc":{"line":2,"column":22},"parent":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\nengi\\core\\client\\WorldState.js","resolved":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\nengi\\core\\protocol\\copyProxy.js"},{"name":"../protocol/getValue","loc":{"line":3,"column":21},"parent":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\nengi\\core\\client\\WorldState.js","resolved":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\nengi\\core\\protocol\\getValue.js"},{"name":"../protocol/setValue","loc":{"line":4,"column":21},"parent":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\nengi\\core\\client\\WorldState.js","resolved":"C:\\Users\\benne\\np\\nengi-2d-basic\\node_modules\\nengi\\core\\protocol\\setValue.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=o(require(\"../../external/EDictionary\")),e=o(require(\"../protocol/copyProxy\")),s=o(require(\"../protocol/getValue\")),i=o(require(\"../protocol/setValue\"));function o(t){return t&&t.__esModule?t:{default:t}}function a(e,s,i,o,a){this.config=a,this.timeBetweenSnapshots=s,this.tick=e,this.clientTick=i.clientTick,this.raw=i,this.processed=!1,this.timestamp=i.timestamp,this.entities=new t.default(a.ID_PROPERTY_NAME),this.noInterps=[],this.createEntities=[],this.updateEntities=[],this.deleteEntities=[],this.updateLookUp={},this.localMessages=[],this.messages=[],this.jsons=[],this.ping=-1,this.init(i,o)}a.prototype.containsUpdateFor=function(t,e){return!(!this.updateLookUp[t]||isNaN(this.updateLookUp[t][e]))},a.prototype.init=function(t,o){o&&(-1===this.timestamp&&(this.timestamp=o.timestamp+this.timeBetweenSnapshots),o.entities.forEach(t=>{var s=(0,e.default)(t,t.protocol);s.protocol=t.protocol,this.entities.add(s)})),t.engineMessages.forEach(t=>{this.noInterps=t.ids}),t.createEntities.forEach(t=>{var s=(0,e.default)(t,t.protocol);s.protocol=t.protocol,this.entities.add(s),this.createEntities.push(s)}),t.localMessages.forEach(t=>{var s=(0,e.default)(t,t.protocol);s.protocol=t.protocol,this.localMessages.push(s)}),t.messages.forEach(t=>{var s=(0,e.default)(t,t.protocol);s.protocol=t.protocol,this.messages.push(s)}),t.jsons.forEach(t=>{this.jsons.push(JSON.parse(t))}),t.updateEntities.partial.forEach(t=>{const e=t[this.config.ID_PROPERTY_NAME],s=this.entities.get(e);(0,i.default)(s,t.path,t.value);const o={[this.config.ID_PROPERTY_NAME]:e,prop:t.prop,path:t.path,value:t.value};this.updateEntities.push(o),this.updateLookUp[e]||(this.updateLookUp[e]={}),this.updateLookUp[e][o.prop]=o.value}),t.updateEntities.optimized.forEach(t=>{var e=this.entities.get(t[this.config.ID_PROPERTY_NAME]);t.updates.forEach(o=>{if(o.isDelta){var a=(0,s.default)(e,o.path);(0,i.default)(e,o.path,a+o.value)}else(0,i.default)(e,o.path,o.value);this.updateEntities.push({[this.config.ID_PROPERTY_NAME]:t[this.config.ID_PROPERTY_NAME],prop:o.prop,path:o.path,value:e[o.prop]})})}),t.deleteEntities.forEach(t=>{this.deleteEntities.push(t),this.entities.removeById(t)})};var p=a;exports.default=p;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":0}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":13}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":20}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":35}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":43}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":56}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":57}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":64}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":68}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":76}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":89}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":2,"column":0},"generated":{"line":1,"column":138}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":2,"column":0},"generated":{"line":1,"column":140}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":2,"column":0},"generated":{"line":1,"column":142}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":2,"column":0},"generated":{"line":1,"column":150}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":3,"column":0},"generated":{"line":1,"column":176}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":3,"column":0},"generated":{"line":1,"column":178}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":3,"column":0},"generated":{"line":1,"column":180}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":3,"column":0},"generated":{"line":1,"column":188}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":4,"column":0},"generated":{"line":1,"column":213}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":4,"column":0},"generated":{"line":1,"column":215}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":4,"column":0},"generated":{"line":1,"column":217}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":4,"column":0},"generated":{"line":1,"column":225}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":250}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":259}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":261}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":264}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":271}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":274}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":276}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":287}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":289}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":290}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":298}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":6,"column":0},"generated":{"line":1,"column":301}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":6,"column":9},"generated":{"line":1,"column":310}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"tick","original":{"line":6,"column":20},"generated":{"line":1,"column":312}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"timeBetweenSnapshots","original":{"line":6,"column":26},"generated":{"line":1,"column":314}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"snapshot","original":{"line":6,"column":48},"generated":{"line":1,"column":316}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"previousWorldState","original":{"line":6,"column":58},"generated":{"line":1,"column":318}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"config","original":{"line":6,"column":78},"generated":{"line":1,"column":320}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"config","original":{"line":7,"column":9},"generated":{"line":1,"column":323}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"config","original":{"line":7,"column":9},"generated":{"line":1,"column":328}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"config","original":{"line":7,"column":18},"generated":{"line":1,"column":335}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"timeBetweenSnapshots","original":{"line":8,"column":9},"generated":{"line":1,"column":337}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"timeBetweenSnapshots","original":{"line":8,"column":9},"generated":{"line":1,"column":342}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"timeBetweenSnapshots","original":{"line":8,"column":32},"generated":{"line":1,"column":363}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"tick","original":{"line":9,"column":9},"generated":{"line":1,"column":365}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"tick","original":{"line":9,"column":9},"generated":{"line":1,"column":370}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"tick","original":{"line":9,"column":16},"generated":{"line":1,"column":375}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clientTick","original":{"line":10,"column":9},"generated":{"line":1,"column":377}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clientTick","original":{"line":10,"column":9},"generated":{"line":1,"column":382}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"snapshot","original":{"line":10,"column":22},"generated":{"line":1,"column":393}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clientTick","original":{"line":10,"column":31},"generated":{"line":1,"column":395}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"raw","original":{"line":11,"column":9},"generated":{"line":1,"column":406}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"raw","original":{"line":11,"column":9},"generated":{"line":1,"column":411}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"snapshot","original":{"line":11,"column":15},"generated":{"line":1,"column":415}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"processed","original":{"line":12,"column":9},"generated":{"line":1,"column":417}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"processed","original":{"line":12,"column":9},"generated":{"line":1,"column":422}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":12,"column":21},"generated":{"line":1,"column":433}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"timestamp","original":{"line":14,"column":9},"generated":{"line":1,"column":435}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"timestamp","original":{"line":14,"column":9},"generated":{"line":1,"column":440}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"snapshot","original":{"line":14,"column":21},"generated":{"line":1,"column":450}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"timestamp","original":{"line":14,"column":30},"generated":{"line":1,"column":452}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entities","original":{"line":16,"column":9},"generated":{"line":1,"column":462}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entities","original":{"line":16,"column":9},"generated":{"line":1,"column":467}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":16,"column":20},"generated":{"line":1,"column":476}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"EDictionary","original":{"line":16,"column":24},"generated":{"line":1,"column":480}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":16,"column":20},"generated":{"line":1,"column":482}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"config","original":{"line":16,"column":36},"generated":{"line":1,"column":490}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"ID_PROPERTY_NAME","original":{"line":16,"column":43},"generated":{"line":1,"column":492}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"noInterps","original":{"line":19,"column":9},"generated":{"line":1,"column":510}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"noInterps","original":{"line":19,"column":9},"generated":{"line":1,"column":515}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":19,"column":21},"generated":{"line":1,"column":525}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"createEntities","original":{"line":21,"column":9},"generated":{"line":1,"column":528}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"createEntities","original":{"line":21,"column":9},"generated":{"line":1,"column":533}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":21,"column":26},"generated":{"line":1,"column":548}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateEntities","original":{"line":22,"column":9},"generated":{"line":1,"column":551}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateEntities","original":{"line":22,"column":9},"generated":{"line":1,"column":556}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":22,"column":26},"generated":{"line":1,"column":571}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"deleteEntities","original":{"line":23,"column":9},"generated":{"line":1,"column":574}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"deleteEntities","original":{"line":23,"column":9},"generated":{"line":1,"column":579}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":23,"column":26},"generated":{"line":1,"column":594}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateLookUp","original":{"line":25,"column":9},"generated":{"line":1,"column":597}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateLookUp","original":{"line":25,"column":9},"generated":{"line":1,"column":602}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":25,"column":24},"generated":{"line":1,"column":615}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"localMessages","original":{"line":28,"column":9},"generated":{"line":1,"column":618}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"localMessages","original":{"line":28,"column":9},"generated":{"line":1,"column":623}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":28,"column":25},"generated":{"line":1,"column":637}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"messages","original":{"line":30,"column":9},"generated":{"line":1,"column":640}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"messages","original":{"line":30,"column":9},"generated":{"line":1,"column":645}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":30,"column":20},"generated":{"line":1,"column":654}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"jsons","original":{"line":32,"column":9},"generated":{"line":1,"column":657}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"jsons","original":{"line":32,"column":9},"generated":{"line":1,"column":662}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":32,"column":17},"generated":{"line":1,"column":668}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"ping","original":{"line":34,"column":9},"generated":{"line":1,"column":671}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"ping","original":{"line":34,"column":9},"generated":{"line":1,"column":676}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":34,"column":17},"generated":{"line":1,"column":682}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"init","original":{"line":37,"column":9},"generated":{"line":1,"column":684}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"init","original":{"line":37,"column":9},"generated":{"line":1,"column":689}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"snapshot","original":{"line":37,"column":14},"generated":{"line":1,"column":694}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"previousWorldState","original":{"line":37,"column":24},"generated":{"line":1,"column":696}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":40,"column":0},"generated":{"line":1,"column":699}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"prototype","original":{"line":40,"column":11},"generated":{"line":1,"column":701}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"containsUpdateFor","original":{"line":40,"column":21},"generated":{"line":1,"column":711}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":40,"column":41},"generated":{"line":1,"column":729}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"id","original":{"line":40,"column":50},"generated":{"line":1,"column":738}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"prop","original":{"line":40,"column":54},"generated":{"line":1,"column":740}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":41,"column":8},"generated":{"line":1,"column":743}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":41,"column":8},"generated":{"line":1,"column":752}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateLookUp","original":{"line":41,"column":13},"generated":{"line":1,"column":757}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"id","original":{"line":41,"column":26},"generated":{"line":1,"column":770}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"isNaN","original":{"line":41,"column":34},"generated":{"line":1,"column":774}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":41,"column":40},"generated":{"line":1,"column":780}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateLookUp","original":{"line":41,"column":45},"generated":{"line":1,"column":785}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"id","original":{"line":41,"column":58},"generated":{"line":1,"column":798}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"prop","original":{"line":41,"column":62},"generated":{"line":1,"column":801}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":47,"column":0},"generated":{"line":1,"column":807}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"prototype","original":{"line":47,"column":11},"generated":{"line":1,"column":809}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"init","original":{"line":47,"column":21},"generated":{"line":1,"column":819}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":47,"column":28},"generated":{"line":1,"column":824}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"snapshot","original":{"line":47,"column":37},"generated":{"line":1,"column":833}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"previousWorldState","original":{"line":47,"column":47},"generated":{"line":1,"column":835}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"previousWorldState","original":{"line":49,"column":8},"generated":{"line":1,"column":838}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":50,"column":32},"generated":{"line":1,"column":843}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":50,"column":12},"generated":{"line":1,"column":847}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"timestamp","original":{"line":50,"column":17},"generated":{"line":1,"column":852}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"timestamp","original":{"line":51,"column":17},"generated":{"line":1,"column":864}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"timestamp","original":{"line":51,"column":17},"generated":{"line":1,"column":869}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"previousWorldState","original":{"line":51,"column":29},"generated":{"line":1,"column":879}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"timestamp","original":{"line":51,"column":48},"generated":{"line":1,"column":881}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":51,"column":60},"generated":{"line":1,"column":891}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"timeBetweenSnapshots","original":{"line":51,"column":65},"generated":{"line":1,"column":896}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"previousWorldState","original":{"line":54,"column":8},"generated":{"line":1,"column":918}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entities","original":{"line":54,"column":27},"generated":{"line":1,"column":920}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"forEach","original":{"line":54,"column":36},"generated":{"line":1,"column":929}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":54,"column":44},"generated":{"line":1,"column":937}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":55,"column":16},"generated":{"line":1,"column":941}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":55,"column":16},"generated":{"line":1,"column":945}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":55,"column":24},"generated":{"line":1,"column":948}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":55,"column":34},"generated":{"line":1,"column":950}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":55,"column":34},"generated":{"line":1,"column":952}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":55,"column":34},"generated":{"line":1,"column":961}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":55,"column":42},"generated":{"line":1,"column":963}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"protocol","original":{"line":55,"column":49},"generated":{"line":1,"column":965}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":56,"column":12},"generated":{"line":1,"column":975}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"protocol","original":{"line":56,"column":18},"generated":{"line":1,"column":977}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":56,"column":29},"generated":{"line":1,"column":986}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"protocol","original":{"line":56,"column":36},"generated":{"line":1,"column":988}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entities","original":{"line":57,"column":17},"generated":{"line":1,"column":997}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entities","original":{"line":57,"column":17},"generated":{"line":1,"column":1002}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"add","original":{"line":57,"column":26},"generated":{"line":1,"column":1011}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":57,"column":30},"generated":{"line":1,"column":1015}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"snapshot","original":{"line":61,"column":4},"generated":{"line":1,"column":1021}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"engineMessages","original":{"line":61,"column":13},"generated":{"line":1,"column":1023}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"forEach","original":{"line":61,"column":28},"generated":{"line":1,"column":1038}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"message","original":{"line":61,"column":36},"generated":{"line":1,"column":1046}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"noInterps","original":{"line":62,"column":13},"generated":{"line":1,"column":1050}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"noInterps","original":{"line":62,"column":13},"generated":{"line":1,"column":1055}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"message","original":{"line":62,"column":25},"generated":{"line":1,"column":1065}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"ids","original":{"line":62,"column":33},"generated":{"line":1,"column":1067}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"snapshot","original":{"line":65,"column":4},"generated":{"line":1,"column":1073}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"createEntities","original":{"line":65,"column":13},"generated":{"line":1,"column":1075}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"forEach","original":{"line":65,"column":28},"generated":{"line":1,"column":1090}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":65,"column":36},"generated":{"line":1,"column":1098}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":69,"column":12},"generated":{"line":1,"column":1102}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":69,"column":12},"generated":{"line":1,"column":1106}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":69,"column":20},"generated":{"line":1,"column":1109}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":69,"column":30},"generated":{"line":1,"column":1111}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":69,"column":30},"generated":{"line":1,"column":1113}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":69,"column":30},"generated":{"line":1,"column":1122}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":69,"column":38},"generated":{"line":1,"column":1124}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"protocol","original":{"line":69,"column":45},"generated":{"line":1,"column":1126}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":70,"column":8},"generated":{"line":1,"column":1136}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"protocol","original":{"line":70,"column":14},"generated":{"line":1,"column":1138}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":70,"column":25},"generated":{"line":1,"column":1147}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"protocol","original":{"line":70,"column":32},"generated":{"line":1,"column":1149}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entities","original":{"line":72,"column":13},"generated":{"line":1,"column":1158}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entities","original":{"line":72,"column":13},"generated":{"line":1,"column":1163}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"add","original":{"line":72,"column":22},"generated":{"line":1,"column":1172}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":72,"column":26},"generated":{"line":1,"column":1176}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"createEntities","original":{"line":73,"column":13},"generated":{"line":1,"column":1179}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"createEntities","original":{"line":73,"column":13},"generated":{"line":1,"column":1184}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"push","original":{"line":73,"column":28},"generated":{"line":1,"column":1199}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":73,"column":33},"generated":{"line":1,"column":1204}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"snapshot","original":{"line":76,"column":4},"generated":{"line":1,"column":1209}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"localMessages","original":{"line":76,"column":13},"generated":{"line":1,"column":1211}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"forEach","original":{"line":76,"column":27},"generated":{"line":1,"column":1225}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"localMessage","original":{"line":76,"column":35},"generated":{"line":1,"column":1233}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":77,"column":12},"generated":{"line":1,"column":1237}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":77,"column":12},"generated":{"line":1,"column":1241}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":77,"column":20},"generated":{"line":1,"column":1244}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"localMessage","original":{"line":77,"column":30},"generated":{"line":1,"column":1246}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"localMessage","original":{"line":77,"column":30},"generated":{"line":1,"column":1248}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"localMessage","original":{"line":77,"column":30},"generated":{"line":1,"column":1257}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"localMessage","original":{"line":77,"column":44},"generated":{"line":1,"column":1259}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"protocol","original":{"line":77,"column":57},"generated":{"line":1,"column":1261}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":78,"column":8},"generated":{"line":1,"column":1271}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"protocol","original":{"line":78,"column":14},"generated":{"line":1,"column":1273}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"localMessage","original":{"line":78,"column":25},"generated":{"line":1,"column":1282}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"protocol","original":{"line":78,"column":38},"generated":{"line":1,"column":1284}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"localMessages","original":{"line":79,"column":13},"generated":{"line":1,"column":1293}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"localMessages","original":{"line":79,"column":13},"generated":{"line":1,"column":1298}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"push","original":{"line":79,"column":27},"generated":{"line":1,"column":1312}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":79,"column":32},"generated":{"line":1,"column":1317}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"snapshot","original":{"line":82,"column":4},"generated":{"line":1,"column":1322}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"messages","original":{"line":82,"column":13},"generated":{"line":1,"column":1324}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"forEach","original":{"line":82,"column":22},"generated":{"line":1,"column":1333}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"message","original":{"line":82,"column":30},"generated":{"line":1,"column":1341}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":83,"column":12},"generated":{"line":1,"column":1345}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":83,"column":12},"generated":{"line":1,"column":1349}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":83,"column":20},"generated":{"line":1,"column":1352}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"message","original":{"line":83,"column":30},"generated":{"line":1,"column":1354}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"message","original":{"line":83,"column":30},"generated":{"line":1,"column":1356}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"message","original":{"line":83,"column":30},"generated":{"line":1,"column":1365}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"message","original":{"line":83,"column":39},"generated":{"line":1,"column":1367}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"protocol","original":{"line":83,"column":47},"generated":{"line":1,"column":1369}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":84,"column":8},"generated":{"line":1,"column":1379}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"protocol","original":{"line":84,"column":14},"generated":{"line":1,"column":1381}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"message","original":{"line":84,"column":25},"generated":{"line":1,"column":1390}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"protocol","original":{"line":84,"column":33},"generated":{"line":1,"column":1392}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"messages","original":{"line":85,"column":13},"generated":{"line":1,"column":1401}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"messages","original":{"line":85,"column":13},"generated":{"line":1,"column":1406}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"push","original":{"line":85,"column":22},"generated":{"line":1,"column":1415}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"clone","original":{"line":85,"column":27},"generated":{"line":1,"column":1420}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"snapshot","original":{"line":88,"column":4},"generated":{"line":1,"column":1425}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"jsons","original":{"line":88,"column":13},"generated":{"line":1,"column":1427}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"forEach","original":{"line":88,"column":19},"generated":{"line":1,"column":1433}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"json","original":{"line":88,"column":27},"generated":{"line":1,"column":1441}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"jsons","original":{"line":89,"column":13},"generated":{"line":1,"column":1445}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"jsons","original":{"line":89,"column":13},"generated":{"line":1,"column":1450}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"push","original":{"line":89,"column":19},"generated":{"line":1,"column":1456}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"JSON","original":{"line":89,"column":24},"generated":{"line":1,"column":1461}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"parse","original":{"line":89,"column":29},"generated":{"line":1,"column":1466}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"json","original":{"line":89,"column":35},"generated":{"line":1,"column":1472}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"snapshot","original":{"line":92,"column":4},"generated":{"line":1,"column":1478}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateEntities","original":{"line":92,"column":13},"generated":{"line":1,"column":1480}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"partial","original":{"line":92,"column":28},"generated":{"line":1,"column":1495}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"forEach","original":{"line":92,"column":36},"generated":{"line":1,"column":1503}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":92,"column":44},"generated":{"line":1,"column":1511}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"id","original":{"line":95,"column":14},"generated":{"line":1,"column":1515}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"id","original":{"line":95,"column":14},"generated":{"line":1,"column":1521}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":95,"column":19},"generated":{"line":1,"column":1523}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":95,"column":26},"generated":{"line":1,"column":1525}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"config","original":{"line":95,"column":31},"generated":{"line":1,"column":1530}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"ID_PROPERTY_NAME","original":{"line":95,"column":38},"generated":{"line":1,"column":1537}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":96,"column":14},"generated":{"line":1,"column":1555}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":96,"column":23},"generated":{"line":1,"column":1557}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entities","original":{"line":96,"column":28},"generated":{"line":1,"column":1562}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"get","original":{"line":96,"column":37},"generated":{"line":1,"column":1571}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"id","original":{"line":96,"column":41},"generated":{"line":1,"column":1575}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":99,"column":17},"generated":{"line":1,"column":1579}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":99,"column":17},"generated":{"line":1,"column":1581}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":99,"column":17},"generated":{"line":1,"column":1583}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":99,"column":17},"generated":{"line":1,"column":1592}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":99,"column":25},"generated":{"line":1,"column":1594}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"path","original":{"line":99,"column":32},"generated":{"line":1,"column":1596}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":99,"column":38},"generated":{"line":1,"column":1601}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"value","original":{"line":99,"column":45},"generated":{"line":1,"column":1603}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateCopy","original":{"line":101,"column":14},"generated":{"line":1,"column":1610}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateCopy","original":{"line":101,"column":14},"generated":{"line":1,"column":1616}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":101,"column":27},"generated":{"line":1,"column":1618}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":102,"column":13},"generated":{"line":1,"column":1619}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":102,"column":13},"generated":{"line":1,"column":1620}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"config","original":{"line":102,"column":18},"generated":{"line":1,"column":1625}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"ID_PROPERTY_NAME","original":{"line":102,"column":25},"generated":{"line":1,"column":1632}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"id","original":{"line":102,"column":44},"generated":{"line":1,"column":1650}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"prop","original":{"line":103,"column":12},"generated":{"line":1,"column":1652}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":103,"column":18},"generated":{"line":1,"column":1657}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"prop","original":{"line":103,"column":25},"generated":{"line":1,"column":1659}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"path","original":{"line":104,"column":12},"generated":{"line":1,"column":1664}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":104,"column":18},"generated":{"line":1,"column":1669}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"path","original":{"line":104,"column":25},"generated":{"line":1,"column":1671}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"value","original":{"line":105,"column":12},"generated":{"line":1,"column":1676}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":105,"column":19},"generated":{"line":1,"column":1682}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"value","original":{"line":105,"column":26},"generated":{"line":1,"column":1684}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateEntities","original":{"line":108,"column":13},"generated":{"line":1,"column":1691}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateEntities","original":{"line":108,"column":13},"generated":{"line":1,"column":1696}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"push","original":{"line":108,"column":28},"generated":{"line":1,"column":1711}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateCopy","original":{"line":108,"column":33},"generated":{"line":1,"column":1716}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":109,"column":13},"generated":{"line":1,"column":1719}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateLookUp","original":{"line":109,"column":18},"generated":{"line":1,"column":1724}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"id","original":{"line":109,"column":31},"generated":{"line":1,"column":1737}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateLookUp","original":{"line":110,"column":17},"generated":{"line":1,"column":1742}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateLookUp","original":{"line":110,"column":17},"generated":{"line":1,"column":1747}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"id","original":{"line":110,"column":30},"generated":{"line":1,"column":1760}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":110,"column":36},"generated":{"line":1,"column":1763}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateLookUp","original":{"line":112,"column":13},"generated":{"line":1,"column":1767}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateLookUp","original":{"line":112,"column":13},"generated":{"line":1,"column":1772}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"id","original":{"line":112,"column":26},"generated":{"line":1,"column":1785}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateCopy","original":{"line":112,"column":30},"generated":{"line":1,"column":1788}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"prop","original":{"line":112,"column":41},"generated":{"line":1,"column":1790}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateCopy","original":{"line":112,"column":49},"generated":{"line":1,"column":1796}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"value","original":{"line":112,"column":60},"generated":{"line":1,"column":1798}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"snapshot","original":{"line":115,"column":4},"generated":{"line":1,"column":1806}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateEntities","original":{"line":115,"column":13},"generated":{"line":1,"column":1808}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"optimized","original":{"line":115,"column":28},"generated":{"line":1,"column":1823}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"forEach","original":{"line":115,"column":38},"generated":{"line":1,"column":1833}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"batch","original":{"line":115,"column":46},"generated":{"line":1,"column":1841}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":118,"column":12},"generated":{"line":1,"column":1845}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":118,"column":12},"generated":{"line":1,"column":1849}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":118,"column":21},"generated":{"line":1,"column":1851}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entities","original":{"line":118,"column":26},"generated":{"line":1,"column":1856}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"get","original":{"line":118,"column":35},"generated":{"line":1,"column":1865}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"batch","original":{"line":118,"column":39},"generated":{"line":1,"column":1869}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":118,"column":45},"generated":{"line":1,"column":1871}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"config","original":{"line":118,"column":50},"generated":{"line":1,"column":1876}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"ID_PROPERTY_NAME","original":{"line":118,"column":57},"generated":{"line":1,"column":1883}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"batch","original":{"line":119,"column":8},"generated":{"line":1,"column":1902}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updates","original":{"line":119,"column":14},"generated":{"line":1,"column":1904}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"forEach","original":{"line":119,"column":22},"generated":{"line":1,"column":1912}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":119,"column":30},"generated":{"line":1,"column":1920}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":120,"column":16},"generated":{"line":1,"column":1924}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":120,"column":16},"generated":{"line":1,"column":1927}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"isDelta","original":{"line":120,"column":23},"generated":{"line":1,"column":1929}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":120,"column":32},"generated":{"line":1,"column":1937}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"value","original":{"line":121,"column":20},"generated":{"line":1,"column":1938}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"value","original":{"line":121,"column":20},"generated":{"line":1,"column":1942}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":121,"column":28},"generated":{"line":1,"column":1945}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":121,"column":37},"generated":{"line":1,"column":1947}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":121,"column":37},"generated":{"line":1,"column":1949}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":121,"column":37},"generated":{"line":1,"column":1958}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":121,"column":45},"generated":{"line":1,"column":1960}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"path","original":{"line":121,"column":52},"generated":{"line":1,"column":1962}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":122,"column":25},"generated":{"line":1,"column":1969}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":122,"column":25},"generated":{"line":1,"column":1971}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":122,"column":25},"generated":{"line":1,"column":1973}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":122,"column":25},"generated":{"line":1,"column":1982}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":122,"column":33},"generated":{"line":1,"column":1984}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"path","original":{"line":122,"column":40},"generated":{"line":1,"column":1986}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"value","original":{"line":122,"column":46},"generated":{"line":1,"column":1991}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":122,"column":54},"generated":{"line":1,"column":1993}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"value","original":{"line":122,"column":61},"generated":{"line":1,"column":1995}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":125,"column":25},"generated":{"line":1,"column":2007}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":125,"column":25},"generated":{"line":1,"column":2009}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":125,"column":25},"generated":{"line":1,"column":2011}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":125,"column":25},"generated":{"line":1,"column":2020}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":125,"column":33},"generated":{"line":1,"column":2022}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"path","original":{"line":125,"column":40},"generated":{"line":1,"column":2024}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":125,"column":46},"generated":{"line":1,"column":2029}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"value","original":{"line":125,"column":53},"generated":{"line":1,"column":2031}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateEntities","original":{"line":129,"column":17},"generated":{"line":1,"column":2038}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"updateEntities","original":{"line":129,"column":17},"generated":{"line":1,"column":2043}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"push","original":{"line":129,"column":32},"generated":{"line":1,"column":2058}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":129,"column":37},"generated":{"line":1,"column":2063}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":130,"column":17},"generated":{"line":1,"column":2064}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":130,"column":17},"generated":{"line":1,"column":2065}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"config","original":{"line":130,"column":22},"generated":{"line":1,"column":2070}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"ID_PROPERTY_NAME","original":{"line":130,"column":29},"generated":{"line":1,"column":2077}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"batch","original":{"line":130,"column":48},"generated":{"line":1,"column":2095}},{"source":"../node_modules/nengi/core/client/WorldState.js","original":{"line":130,"column":54},"generated":{"line":1,"column":2097}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"config","original":{"line":130,"column":59},"generated":{"line":1,"column":2102}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"ID_PROPERTY_NAME","original":{"line":130,"column":66},"generated":{"line":1,"column":2109}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"prop","original":{"line":131,"column":16},"generated":{"line":1,"column":2127}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":131,"column":22},"generated":{"line":1,"column":2132}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"prop","original":{"line":131,"column":29},"generated":{"line":1,"column":2134}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"path","original":{"line":132,"column":16},"generated":{"line":1,"column":2139}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":132,"column":22},"generated":{"line":1,"column":2144}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"path","original":{"line":132,"column":29},"generated":{"line":1,"column":2146}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"value","original":{"line":133,"column":16},"generated":{"line":1,"column":2151}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entity","original":{"line":133,"column":23},"generated":{"line":1,"column":2157}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"update","original":{"line":133,"column":30},"generated":{"line":1,"column":2159}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"prop","original":{"line":133,"column":37},"generated":{"line":1,"column":2161}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"snapshot","original":{"line":138,"column":4},"generated":{"line":1,"column":2173}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"deleteEntities","original":{"line":138,"column":13},"generated":{"line":1,"column":2175}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"forEach","original":{"line":138,"column":28},"generated":{"line":1,"column":2190}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"id","original":{"line":138,"column":36},"generated":{"line":1,"column":2198}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"deleteEntities","original":{"line":139,"column":13},"generated":{"line":1,"column":2202}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"deleteEntities","original":{"line":139,"column":13},"generated":{"line":1,"column":2207}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"push","original":{"line":139,"column":28},"generated":{"line":1,"column":2222}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"id","original":{"line":139,"column":33},"generated":{"line":1,"column":2227}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entities","original":{"line":140,"column":13},"generated":{"line":1,"column":2230}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"entities","original":{"line":140,"column":13},"generated":{"line":1,"column":2235}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"removeById","original":{"line":140,"column":22},"generated":{"line":1,"column":2244}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"id","original":{"line":140,"column":33},"generated":{"line":1,"column":2255}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":2261}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":2265}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":2267}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":2269}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":2277}},{"source":"../node_modules/nengi/core/client/WorldState.js","name":"WorldState","original":{"line":144,"column":15},"generated":{"line":1,"column":2285}}],"sources":{"../node_modules/nengi/core/client/WorldState.js":"import EDictionary from '../../external/EDictionary';\r\nimport copyProxy from '../protocol/copyProxy';\r\nimport getValue from '../protocol/getValue';\r\nimport setValue from '../protocol/setValue';\r\n\r\nfunction WorldState(tick, timeBetweenSnapshots, snapshot, previousWorldState, config) {\r\n    this.config = config\r\n    this.timeBetweenSnapshots = timeBetweenSnapshots\r\n    this.tick = tick\r\n    this.clientTick = snapshot.clientTick\r\n    this.raw = snapshot\r\n    this.processed = false\r\n   \r\n    this.timestamp = snapshot.timestamp\r\n    // entity state\r\n    this.entities = new EDictionary(config.ID_PROPERTY_NAME)\r\n\r\n\r\n    this.noInterps = []\r\n\r\n    this.createEntities = []\r\n    this.updateEntities = []\r\n    this.deleteEntities = []\r\n\r\n    this.updateLookUp = {}\r\n\r\n    // localMessage state\r\n    this.localMessages = []\r\n    // message state\r\n    this.messages = []\r\n    // jsons\r\n    this.jsons = []\r\n\r\n    this.ping = -1\r\n    //this.temporalOffset = -1\r\n\r\n    this.init(snapshot, previousWorldState)\r\n}\r\n\r\nWorldState.prototype.containsUpdateFor = function(id, prop) {\r\n    if (this.updateLookUp[id] && !isNaN(this.updateLookUp[id][prop])) {\r\n        return true\r\n    }\r\n    return false\r\n}\r\n\r\nWorldState.prototype.init = function(snapshot, previousWorldState) {\r\n    //console.log(snapshot)\r\n    if (previousWorldState) {\r\n        if (this.timestamp === -1) {\r\n            this.timestamp = previousWorldState.timestamp + this.timeBetweenSnapshots\r\n        }\r\n\r\n        previousWorldState.entities.forEach(entity => {\r\n            var clone = copyProxy(entity, entity.protocol)\r\n            clone.protocol = entity.protocol\r\n            this.entities.add(clone)\r\n        })\r\n    }\r\n\r\n    snapshot.engineMessages.forEach(message => {\r\n        this.noInterps = message.ids\r\n    })\r\n\r\n    snapshot.createEntities.forEach(entity => {\r\n        //this.createdEntityIds.push(entity.id)\r\n\r\n        //console.log('yolo', entity)\r\n        var clone = copyProxy(entity, entity.protocol)\r\n        clone.protocol = entity.protocol\r\n        //console.log('yolo2', clone)\r\n        this.entities.add(clone)\r\n        this.createEntities.push(clone)\r\n    })\r\n\r\n    snapshot.localMessages.forEach(localMessage => {\r\n        var clone = copyProxy(localMessage, localMessage.protocol)\r\n        clone.protocol = localMessage.protocol\r\n        this.localMessages.push(clone)\r\n    })\r\n\r\n    snapshot.messages.forEach(message => {\r\n        var clone = copyProxy(message, message.protocol)\r\n        clone.protocol = message.protocol\r\n        this.messages.push(clone)\r\n    })\r\n\r\n    snapshot.jsons.forEach(json => {\r\n        this.jsons.push(JSON.parse(json))\r\n    })\r\n\r\n    snapshot.updateEntities.partial.forEach(update => {\r\n        //console.log('YOLO', update)\r\n        //this.updatedEntityIds.push(singleProp[this.config.ID_PROPERTY_NAME])\r\n        const id = update[this.config.ID_PROPERTY_NAME]\r\n        const entity = this.entities.get(id)\r\n        //console.log('b4', entity.x)\r\n        //entity[singleProp.prop] = singleProp.value\r\n        setValue(entity, update.path, update.value)\r\n        //console.log('after', entity.x)\r\n        const updateCopy = { \r\n            [this.config.ID_PROPERTY_NAME]: id, \r\n            prop: update.prop,\r\n            path: update.path,\r\n            value: update.value\r\n        }\r\n\r\n        this.updateEntities.push(updateCopy)\r\n        if (!this.updateLookUp[id]) {\r\n            this.updateLookUp[id] = {}\r\n        }\r\n        this.updateLookUp[id][updateCopy.prop] = updateCopy.value        \r\n    })\r\n\r\n    snapshot.updateEntities.optimized.forEach(batch => {\r\n        //this.updatedEntityIds.push(batch[this.config.ID_PROPERTY_NAME])\r\n\r\n        var entity = this.entities.get(batch[this.config.ID_PROPERTY_NAME])\r\n        batch.updates.forEach(update => {\r\n            if (update.isDelta) {\r\n                var value = getValue(entity, update.path)\r\n                setValue(entity, update.path, value + update.value)\r\n                //entity[update.prop] += update.value\r\n            } else {\r\n                setValue(entity, update.path, update.value)\r\n                //entity[update.prop] = update.value\r\n            }\r\n\r\n            this.updateEntities.push({ \r\n                [this.config.ID_PROPERTY_NAME]: batch[this.config.ID_PROPERTY_NAME], \r\n                prop: update.prop,\r\n                path: update.path,\r\n                value: entity[update.prop]\r\n            })           \r\n        })\r\n    })\r\n\r\n    snapshot.deleteEntities.forEach(id => {\r\n        this.deleteEntities.push(id)\r\n        this.entities.removeById(id)\r\n    })\r\n}\r\n\r\nexport default WorldState;"},"lineCount":null}},"error":null,"hash":"470eb468ce58af174057e90400422050","cacheData":{"env":{}}}